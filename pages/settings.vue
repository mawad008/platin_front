<template>
  <div style="min-height: 100vh">
    <div class="container settings-container" style="margin-top: 100px">
      <v-breadcrumbs :items="items">
        <template v-slot:divider>
          <v-icon icon="mdi-chevron-left arrow-icon"></v-icon>
        </template>
      </v-breadcrumbs>
      <div class="row">
        <div class="col-12 col-xl-4 col-lg-4">
          <div class="settings-links">
            <div
              class="link"
              @click="navActive = 1"
              :class="{ active: navActive == 1 }"
            >
              <div class="icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                >
                  <path
                    d="M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z"
                    fill="#919EAB"
                  />
                  <path
                    d="M17.08 14.1499C14.29 12.2899 9.73996 12.2899 6.92996 14.1499C5.65996 14.9999 4.95996 16.1499 4.95996 17.3799C4.95996 18.6099 5.65996 19.7499 6.91996 20.5899C8.31996 21.5299 10.16 21.9999 12 21.9999C13.84 21.9999 15.68 21.5299 17.08 20.5899C18.34 19.7399 19.04 18.5999 19.04 17.3599C19.03 16.1299 18.34 14.9899 17.08 14.1499Z"
                    fill="#919EAB"
                  />
                </svg>
              </div>
              <span> {{ $t("personal") }} </span>
            </div>

            <!-- <div class="link" @click="navActive = 2" :class="{ active: navActive == 2 }">
              <div class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M20.19 14.0598L19.06 12.1798C18.81 11.7698 18.59 10.9798 18.59 10.4998V8.6298C18.59 4.9998 15.64 2.0498 12.02 2.0498C8.38996 2.0598 5.43996 4.9998 5.43996 8.6298V10.4898C5.43996 10.9698 5.21996 11.7598 4.97996 12.1698L3.84996 14.0498C3.41996 14.7798 3.31996 15.6098 3.58996 16.3298C3.85996 17.0598 4.46996 17.6398 5.26996 17.8998C6.34996 18.2598 7.43996 18.5198 8.54996 18.7098C8.65996 18.7298 8.76996 18.7398 8.87996 18.7598C9.01996 18.7798 9.16996 18.7998 9.31996 18.8198C9.57996 18.8598 9.83996 18.8898 10.11 18.9098C10.74 18.9698 11.38 18.9998 12.02 18.9998C12.65 18.9998 13.28 18.9698 13.9 18.9098C14.13 18.8898 14.36 18.8698 14.58 18.8398C14.76 18.8198 14.94 18.7998 15.12 18.7698C15.23 18.7598 15.34 18.7398 15.45 18.7198C16.57 18.5398 17.68 18.2598 18.76 17.8998C19.53 17.6398 20.12 17.0598 20.4 16.3198C20.68 15.5698 20.6 14.7498 20.19 14.0598ZM12.75 9.9998C12.75 10.4198 12.41 10.7598 11.99 10.7598C11.57 10.7598 11.23 10.4198 11.23 9.9998V6.89981C11.23 6.4798 11.57 6.1398 11.99 6.1398C12.41 6.1398 12.75 6.4798 12.75 6.89981V9.9998Z"
                    fill="#919EAB" />
                  <path
                    d="M14.8299 20.01C14.4099 21.17 13.2999 22 11.9999 22C11.2099 22 10.4299 21.68 9.87993 21.11C9.55993 20.81 9.31993 20.41 9.17993 20C9.30993 20.02 9.43993 20.03 9.57993 20.05C9.80993 20.08 10.0499 20.11 10.2899 20.13C10.8599 20.18 11.4399 20.21 12.0199 20.21C12.5899 20.21 13.1599 20.18 13.7199 20.13C13.9299 20.11 14.1399 20.1 14.3399 20.07C14.4999 20.05 14.6599 20.03 14.8299 20.01Z"
                    fill="#919EAB" />
                </svg>
              </div>
              <span> الاشعارات </span>
            </div>

            <div class="link" @click="navActive = 3" :class="{ active: navActive == 3 }">
              <div class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M20.6201 8.45C19.5701 3.83 15.5401 1.75 12.0001 1.75C12.0001 1.75 12.0001 1.75 11.9901 1.75C8.4601 1.75 4.4201 3.82 3.3701 8.44C2.2001 13.6 5.3601 17.97 8.2201 20.72C9.2801 21.74 10.6401 22.25 12.0001 22.25C13.3601 22.25 14.7201 21.74 15.7701 20.72C18.6301 17.97 21.7901 13.61 20.6201 8.45ZM12.0001 13.46C10.2601 13.46 8.8501 12.05 8.8501 10.31C8.8501 8.57 10.2601 7.16 12.0001 7.16C13.7401 7.16 15.1501 8.57 15.1501 10.31C15.1501 12.05 13.7401 13.46 12.0001 13.46Z"
                    fill="#919EAB" />
                </svg>
              </div>
              <span> العناوين المسجلة </span>
            </div>

            <div class="link" @click="navActive = 4" :class="{ active: navActive == 4 }">
              <div class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
                  <path
                    d="M0.0870261 5.4502C3.14163 6.80127 6.1375 8.13277 9.1921 9.46426C9.1921 12.9105 9.1921 16.435 9.1921 19.9987C8.9963 19.9204 8.82007 19.8617 8.62426 19.7833C6.43121 18.8043 4.23816 17.8448 2.04511 16.8462C0.713612 16.2392 0.00870258 15.1819 0.00870258 13.7133C-0.0108782 11.2657 0.00870258 8.81809 0.00870258 6.37049C0.00870258 6.07678 0.0478645 5.78307 0.0870261 5.4502Z"
                    fill="#919EAB" />
                  <path
                    d="M10.8762 19.9998C10.8762 16.4361 10.8762 12.9115 10.8762 9.44571C12.0511 8.93661 13.1868 8.44708 14.3616 7.93798C14.3616 8.29044 14.3616 8.62331 14.3616 8.9366C14.3616 9.2499 14.3616 9.56319 14.3616 9.87648C14.3616 10.366 14.7141 10.738 15.184 10.7576C15.6539 10.7772 16.026 10.3856 16.0456 9.89606C16.0456 9.09325 16.0651 8.29044 16.0456 7.48763C16.0456 7.27224 16.1043 7.15475 16.3197 7.05685C17.475 6.56733 18.6106 6.03865 19.7659 5.52954C19.8247 5.50996 19.903 5.4708 20.0009 5.43164C20.04 5.72535 20.0988 5.99948 20.0988 6.27361C20.0988 8.77996 20.1184 11.2863 20.0988 13.7731C20.0792 15.1046 19.4526 16.1619 18.2386 16.7298C15.9281 17.8067 13.5784 18.8249 11.2483 19.8431C11.1308 19.941 11.0133 19.9606 10.8762 19.9998Z"
                    fill="#919EAB" />
                  <path
                    d="M6.1377 1.43739C6.80344 1.14368 7.44961 0.830384 8.09578 0.575834C8.56572 0.380026 9.03566 0.184222 9.52518 0.0667373C10.1322 -0.0703283 10.7196 0.00799492 11.2874 0.262545C13.598 1.28075 15.9085 2.29895 18.1995 3.33673C18.5324 3.47379 18.8065 3.72835 19.1394 3.94374C19.0023 4.02206 18.9435 4.04164 18.8848 4.0808C17.7295 4.5899 16.5547 5.11859 15.3994 5.62769C15.3015 5.66685 15.1645 5.68643 15.0665 5.64727C12.149 4.27661 9.23146 2.90596 6.3335 1.5353C6.27476 1.51572 6.2356 1.49614 6.1377 1.43739Z"
                    fill="#919EAB" />
                  <path
                    d="M13.1665 6.62694C12.3832 6.9794 11.6588 7.31226 10.8951 7.62556C10.2685 7.88011 9.62235 7.84095 9.01534 7.56682C6.37193 6.39197 3.72852 5.21712 1.10469 4.04227C1.06553 4.02269 1.02637 4.00311 0.928467 3.92479C1.32008 3.68982 1.63338 3.43527 2.00541 3.25904C2.632 2.94575 3.27817 2.6912 3.90475 2.41707C4.00266 2.3779 4.13972 2.3779 4.23762 2.41707C7.15517 3.78772 10.0727 5.15838 13.0098 6.52904C13.049 6.5682 13.0882 6.58778 13.1665 6.62694Z"
                    fill="#919EAB" />
                </svg>
              </div>
              <span> طلباتي </span>
            </div> -->
          </div>
        </div>
        <div class="col-12 col-xl-8 col-lg-8 main-container">
          <div v-if="navActive == 1" class="main">
            <div v-if="personalActive == 1">
              <div class="personal">
                <div class="details">
                  <div class="image">
                    <div v-if="userData.image" class="img">
                      <img :src="userData.image" alt="" />
                    </div>
                    <!-- <div v-else class="img">
                      <img src="~/assets/images/kk.jpg" alt="" />
                    </div> -->
                  </div>
                  <div class="edit d-flex justify-content-end">
                    <div
                      @click="personalActive = 2"
                      class="d-flex align-items-center gap-2"
                    >
                      <span> {{ $t("edit") }} </span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        viewBox="0 0 16 16"
                        fill="none"
                      >
                        <path
                          d="M14 14.667H2C1.72667 14.667 1.5 14.4403 1.5 14.167C1.5 13.8937 1.72667 13.667 2 13.667H14C14.2733 13.667 14.5 13.8937 14.5 14.167C14.5 14.4403 14.2733 14.667 14 14.667Z"
                          fill="#DCBA95"
                        />
                        <path
                          d="M12.6799 2.32043C11.3866 1.0271 10.1199 0.993764 8.79322 2.32043L7.98655 3.1271C7.91989 3.19376 7.89322 3.30043 7.91989 3.39376C8.42655 5.16043 9.83989 6.57376 11.6066 7.08043C11.6332 7.0871 11.6599 7.09376 11.6866 7.09376C11.7599 7.09376 11.8266 7.0671 11.8799 7.01376L12.6799 6.2071C13.3399 5.55376 13.6599 4.92043 13.6599 4.28043C13.6666 3.62043 13.3466 2.98043 12.6799 2.32043Z"
                          fill="#DCBA95"
                        />
                        <path
                          d="M10.4066 7.68654C10.2132 7.5932 10.0266 7.49987 9.84655 7.3932C9.69989 7.30654 9.55989 7.2132 9.41989 7.1132C9.30655 7.03987 9.17322 6.9332 9.04655 6.82654C9.03322 6.81987 8.98655 6.77987 8.93322 6.72654C8.71322 6.53987 8.46655 6.29987 8.24655 6.0332C8.22655 6.01987 8.19322 5.9732 8.14655 5.9132C8.07989 5.8332 7.96655 5.69987 7.86655 5.54654C7.78655 5.44654 7.69322 5.29987 7.60655 5.1532C7.49989 4.9732 7.40655 4.7932 7.31322 4.60654C7.19085 4.34431 6.84668 4.26641 6.64206 4.47103L2.89322 8.21987C2.80655 8.30654 2.72655 8.4732 2.70655 8.58654L2.34655 11.1399C2.27989 11.5932 2.40655 12.0199 2.68655 12.3065C2.92655 12.5399 3.25989 12.6665 3.61989 12.6665C3.69989 12.6665 3.77989 12.6599 3.85989 12.6465L6.41989 12.2865C6.53989 12.2665 6.70655 12.1865 6.78655 12.0999L10.5416 8.34484C10.7421 8.14432 10.6668 7.79929 10.4066 7.68654Z"
                          fill="#DCBA95"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="form">
                    <div class="inputs w-100">
                      <div class="main-input">
                        <label for=""> {{ $t("first name") }}</label>
                        <input
                          type="text"
                          readonly
                          v-model="userData.first_name"
                          placeholder="محمد"
                        />
                      </div>
                      <div class="main-input">
                        <label for="">{{ $t("last name") }}</label>
                        <input
                          type="text"
                          readonly
                          v-model="userData.last_name"
                          placeholder="محمد"
                        />
                      </div>
                    </div>
                    <div class="inputs">
                      <div class="main-input">
                        <label for="">{{ $t("phone") }}</label>
                        <input
                          type="tel"
                          readonly
                          v-model="userData.phone"
                          placeholder="+201066333725"
                        />
                      </div>
                      <div class="main-input">
                        <label for=""> {{ $t("email") }} </label>
                        <input
                          type="email"
                          readonly
                          v-model="userData.email"
                          placeholder="m.info@icloud.com"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="pass">
                <div
                  @click="passActive = !passActive"
                  :class="{ active: passActive }"
                  class="head d-flex align-items-center justify-content-between"
                >
                  <div class="d-flex align-items-center gap-2">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                    >
                      <path
                        d="M20.9101 11.1203V6.73031C20.9101 5.91031 20.2901 4.98031 19.5201 4.67031L13.9501 2.39031C12.7001 1.88031 11.2901 1.88031 10.0401 2.39031L4.47009 4.67031C3.71009 4.98031 3.09009 5.91031 3.09009 6.73031V11.1203C3.09009 16.0103 6.64009 20.5903 11.4901 21.9303C11.8201 22.0203 12.1801 22.0203 12.5101 21.9303C17.3601 20.5903 20.9101 16.0103 20.9101 11.1203ZM12.7501 12.8703V15.5003C12.7501 15.9103 12.4101 16.2503 12.0001 16.2503C11.5901 16.2503 11.2501 15.9103 11.2501 15.5003V12.8703C10.2401 12.5503 9.50009 11.6103 9.50009 10.5003C9.50009 9.12031 10.6201 8.00031 12.0001 8.00031C13.3801 8.00031 14.5001 9.12031 14.5001 10.5003C14.5001 11.6203 13.7601 12.5503 12.7501 12.8703Z"
                        fill="#DCBA95"
                      />
                    </svg>
                    <span> {{ $t("edit pass") }} </span>
                  </div>
                  <svg
                    class="icon arrow-icon"
                    xmlns="http://www.w3.org/2000/svg"
                    width="6"
                    height="11"
                    viewBox="0 0 6 11"
                    fill="none"
                  >
                    <path
                      d="M5.21436 9.49337L5.21436 5.34004L5.21436 1.60004C5.21436 0.960041 4.44102 0.640041 3.98769 1.09337L0.534355 4.54671C-0.0189778 5.10004 -0.0189779 6.00004 0.534355 6.55337L1.84769 7.86671L3.98769 10.0067C4.44102 10.4534 5.21436 10.1334 5.21436 9.49337Z"
                      fill="#919EAB"
                    />
                  </svg>
                </div>

                <div v-if="passActive" style="margin-top: 37px">
                  <div class="inputs">
                    <div class="main-input w-50">
                      <label for=""> {{ $t("cur pass") }}</label>
                      <input
                        :type="passType"
                        v-model="passwordUpdate.old_password"
                        placeholder="************"
                      />
                      <div @click="changePass1()" class="icon">
                        <svg
                          v-if="passType == 'password'"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="16"
                          viewBox="0 0 24 16"
                          fill="none"
                        >
                          <path
                            d="M23.9204 7.6296C23.2116 6.0552 19.9696 0 12 0C4.0304 0 0.7884 6.0552 0.0796 7.6296C0.0264 7.748 0 7.8744 0 8C0 8.1256 0.0264 8.252 0.0796 8.3704C0.7884 9.9444 4.0304 16 12 16C19.9696 16 23.2116 9.9444 23.9204 8.3704C23.9736 8.252 24 8.1256 24 8C24 7.8744 23.9736 7.748 23.9204 7.6296ZM12 13.2C9.128 13.2 6.8 10.872 6.8 8C6.8 5.128 9.128 2.8 12 2.8C14.872 2.8 17.2 5.128 17.2 8C17.2 10.872 14.872 13.2 12 13.2Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M11.9999 11.6C13.9881 11.6 15.5999 9.98826 15.5999 8.00002C15.5999 6.01178 13.9881 4.40002 11.9999 4.40002C10.0117 4.40002 8.3999 6.01178 8.3999 8.00002C8.3999 9.98826 10.0117 11.6 11.9999 11.6Z"
                            fill="#90A3BF"
                          />
                        </svg>
                        <svg
                          v-if="passType == 'text'"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                        >
                          <path
                            d="M21.2699 9.17981C20.9799 8.71981 20.6699 8.28981 20.3499 7.88981C19.9799 7.41981 19.2799 7.37981 18.8599 7.79981L15.8599 10.7998C16.0799 11.4598 16.1199 12.2198 15.9199 13.0098C15.5699 14.4198 14.4299 15.5598 13.0199 15.9098C12.2299 16.1098 11.4699 16.0698 10.8099 15.8498C10.8099 15.8498 9.37995 17.2798 8.34995 18.3098C7.84995 18.8098 8.00995 19.6898 8.67995 19.9498C9.74995 20.3598 10.8599 20.5698 11.9999 20.5698C13.7799 20.5698 15.5099 20.0498 17.0899 19.0798C18.6999 18.0798 20.1499 16.6098 21.3199 14.7398C22.2699 13.2298 22.2199 10.6898 21.2699 9.17981Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M14.0201 9.98014L9.98014 14.0201C9.47014 13.5001 9.14014 12.7801 9.14014 12.0001C9.14014 10.4301 10.4201 9.14014 12.0001 9.14014C12.7801 9.14014 13.5001 9.47014 14.0201 9.98014Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M18.25 5.75018L14.86 9.14018C14.13 8.40018 13.12 7.96018 12 7.96018C9.76 7.96018 7.96 9.77018 7.96 12.0002C7.96 13.1202 8.41 14.1302 9.14 14.8602L5.76 18.2502H5.75C4.64 17.3502 3.62 16.2002 2.75 14.8402C1.75 13.2702 1.75 10.7202 2.75 9.15018C3.91 7.33017 5.33 5.90018 6.91 4.92018C8.49 3.96018 10.22 3.43018 12 3.43018C14.23 3.43018 16.39 4.25018 18.25 5.75018Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M14.8601 12.0001C14.8601 13.5701 13.5801 14.8601 12.0001 14.8601C11.9401 14.8601 11.8901 14.8601 11.8301 14.8401L14.8401 11.8301C14.8601 11.8901 14.8601 11.9401 14.8601 12.0001Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M21.7699 2.22988C21.4699 1.92988 20.9799 1.92988 20.6799 2.22988L2.22988 20.6899C1.92988 20.9899 1.92988 21.4799 2.22988 21.7799C2.37988 21.9199 2.56988 21.9999 2.76988 21.9999C2.96988 21.9999 3.15988 21.9199 3.30988 21.7699L21.7699 3.30988C22.0799 3.00988 22.0799 2.52988 21.7699 2.22988Z"
                            fill="#90A3BF"
                          />
                        </svg>
                      </div>
                      <span class="error-msg" v-if="v2$.old_password.$error">{{
                        v2$.old_password.$errors[0].$message
                      }}</span>
                      <span class="error-msg2" v-if="errors1.old_password">{{
                        errors1.old_password[0]
                      }}</span>
                    </div>
                  </div>
                  <div class="inputs">
                    <div class="main-input">
                      <label for=""> {{ $t("new pass") }}</label>
                      <input
                        :type="passConfType"
                        v-model="passwordUpdate.password"
                        placeholder="************"
                      />
                      <span class="error-msg" v-if="v2$.password.$error">{{
                        v2$.password.$errors[0].$message
                      }}</span>
                      <div @click="changePass2()" class="icon">
                        <svg
                          v-if="passConfType == 'password'"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="16"
                          viewBox="0 0 24 16"
                          fill="none"
                        >
                          <path
                            d="M23.9204 7.6296C23.2116 6.0552 19.9696 0 12 0C4.0304 0 0.7884 6.0552 0.0796 7.6296C0.0264 7.748 0 7.8744 0 8C0 8.1256 0.0264 8.252 0.0796 8.3704C0.7884 9.9444 4.0304 16 12 16C19.9696 16 23.2116 9.9444 23.9204 8.3704C23.9736 8.252 24 8.1256 24 8C24 7.8744 23.9736 7.748 23.9204 7.6296ZM12 13.2C9.128 13.2 6.8 10.872 6.8 8C6.8 5.128 9.128 2.8 12 2.8C14.872 2.8 17.2 5.128 17.2 8C17.2 10.872 14.872 13.2 12 13.2Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M11.9999 11.6C13.9881 11.6 15.5999 9.98826 15.5999 8.00002C15.5999 6.01178 13.9881 4.40002 11.9999 4.40002C10.0117 4.40002 8.3999 6.01178 8.3999 8.00002C8.3999 9.98826 10.0117 11.6 11.9999 11.6Z"
                            fill="#90A3BF"
                          />
                        </svg>
                        <svg
                          v-if="passConfType == 'text'"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                        >
                          <path
                            d="M21.2699 9.17981C20.9799 8.71981 20.6699 8.28981 20.3499 7.88981C19.9799 7.41981 19.2799 7.37981 18.8599 7.79981L15.8599 10.7998C16.0799 11.4598 16.1199 12.2198 15.9199 13.0098C15.5699 14.4198 14.4299 15.5598 13.0199 15.9098C12.2299 16.1098 11.4699 16.0698 10.8099 15.8498C10.8099 15.8498 9.37995 17.2798 8.34995 18.3098C7.84995 18.8098 8.00995 19.6898 8.67995 19.9498C9.74995 20.3598 10.8599 20.5698 11.9999 20.5698C13.7799 20.5698 15.5099 20.0498 17.0899 19.0798C18.6999 18.0798 20.1499 16.6098 21.3199 14.7398C22.2699 13.2298 22.2199 10.6898 21.2699 9.17981Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M14.0201 9.98014L9.98014 14.0201C9.47014 13.5001 9.14014 12.7801 9.14014 12.0001C9.14014 10.4301 10.4201 9.14014 12.0001 9.14014C12.7801 9.14014 13.5001 9.47014 14.0201 9.98014Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M18.25 5.75018L14.86 9.14018C14.13 8.40018 13.12 7.96018 12 7.96018C9.76 7.96018 7.96 9.77018 7.96 12.0002C7.96 13.1202 8.41 14.1302 9.14 14.8602L5.76 18.2502H5.75C4.64 17.3502 3.62 16.2002 2.75 14.8402C1.75 13.2702 1.75 10.7202 2.75 9.15018C3.91 7.33017 5.33 5.90018 6.91 4.92018C8.49 3.96018 10.22 3.43018 12 3.43018C14.23 3.43018 16.39 4.25018 18.25 5.75018Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M14.8601 12.0001C14.8601 13.5701 13.5801 14.8601 12.0001 14.8601C11.9401 14.8601 11.8901 14.8601 11.8301 14.8401L14.8401 11.8301C14.8601 11.8901 14.8601 11.9401 14.8601 12.0001Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M21.7699 2.22988C21.4699 1.92988 20.9799 1.92988 20.6799 2.22988L2.22988 20.6899C1.92988 20.9899 1.92988 21.4799 2.22988 21.7799C2.37988 21.9199 2.56988 21.9999 2.76988 21.9999C2.96988 21.9999 3.15988 21.9199 3.30988 21.7699L21.7699 3.30988C22.0799 3.00988 22.0799 2.52988 21.7699 2.22988Z"
                            fill="#90A3BF"
                          />
                        </svg>
                      </div>
                      <span class="error-msg2" v-if="errors1.password">{{
                        errors1.password[0]
                      }}</span>
                    </div>
                    <div class="main-input">
                      <label for=""> {{ $t("sure pass") }} </label>
                      <input
                        :type="passCurr"
                        v-model="passwordUpdate.password_confirmation"
                        placeholder="************"
                      />
                      <div @click="changePass3()" class="icon">
                        <svg
                          v-if="passCurr == 'password'"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="16"
                          viewBox="0 0 24 16"
                          fill="none"
                        >
                          <path
                            d="M23.9204 7.6296C23.2116 6.0552 19.9696 0 12 0C4.0304 0 0.7884 6.0552 0.0796 7.6296C0.0264 7.748 0 7.8744 0 8C0 8.1256 0.0264 8.252 0.0796 8.3704C0.7884 9.9444 4.0304 16 12 16C19.9696 16 23.2116 9.9444 23.9204 8.3704C23.9736 8.252 24 8.1256 24 8C24 7.8744 23.9736 7.748 23.9204 7.6296ZM12 13.2C9.128 13.2 6.8 10.872 6.8 8C6.8 5.128 9.128 2.8 12 2.8C14.872 2.8 17.2 5.128 17.2 8C17.2 10.872 14.872 13.2 12 13.2Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M11.9999 11.6C13.9881 11.6 15.5999 9.98826 15.5999 8.00002C15.5999 6.01178 13.9881 4.40002 11.9999 4.40002C10.0117 4.40002 8.3999 6.01178 8.3999 8.00002C8.3999 9.98826 10.0117 11.6 11.9999 11.6Z"
                            fill="#90A3BF"
                          />
                        </svg>
                        <svg
                          v-if="passCurr == 'text'"
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                        >
                          <path
                            d="M21.2699 9.17981C20.9799 8.71981 20.6699 8.28981 20.3499 7.88981C19.9799 7.41981 19.2799 7.37981 18.8599 7.79981L15.8599 10.7998C16.0799 11.4598 16.1199 12.2198 15.9199 13.0098C15.5699 14.4198 14.4299 15.5598 13.0199 15.9098C12.2299 16.1098 11.4699 16.0698 10.8099 15.8498C10.8099 15.8498 9.37995 17.2798 8.34995 18.3098C7.84995 18.8098 8.00995 19.6898 8.67995 19.9498C9.74995 20.3598 10.8599 20.5698 11.9999 20.5698C13.7799 20.5698 15.5099 20.0498 17.0899 19.0798C18.6999 18.0798 20.1499 16.6098 21.3199 14.7398C22.2699 13.2298 22.2199 10.6898 21.2699 9.17981Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M14.0201 9.98014L9.98014 14.0201C9.47014 13.5001 9.14014 12.7801 9.14014 12.0001C9.14014 10.4301 10.4201 9.14014 12.0001 9.14014C12.7801 9.14014 13.5001 9.47014 14.0201 9.98014Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M18.25 5.75018L14.86 9.14018C14.13 8.40018 13.12 7.96018 12 7.96018C9.76 7.96018 7.96 9.77018 7.96 12.0002C7.96 13.1202 8.41 14.1302 9.14 14.8602L5.76 18.2502H5.75C4.64 17.3502 3.62 16.2002 2.75 14.8402C1.75 13.2702 1.75 10.7202 2.75 9.15018C3.91 7.33017 5.33 5.90018 6.91 4.92018C8.49 3.96018 10.22 3.43018 12 3.43018C14.23 3.43018 16.39 4.25018 18.25 5.75018Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M14.8601 12.0001C14.8601 13.5701 13.5801 14.8601 12.0001 14.8601C11.9401 14.8601 11.8901 14.8601 11.8301 14.8401L14.8401 11.8301C14.8601 11.8901 14.8601 11.9401 14.8601 12.0001Z"
                            fill="#90A3BF"
                          />
                          <path
                            d="M21.7699 2.22988C21.4699 1.92988 20.9799 1.92988 20.6799 2.22988L2.22988 20.6899C1.92988 20.9899 1.92988 21.4799 2.22988 21.7799C2.37988 21.9199 2.56988 21.9999 2.76988 21.9999C2.96988 21.9999 3.15988 21.9199 3.30988 21.7699L21.7699 3.30988C22.0799 3.00988 22.0799 2.52988 21.7699 2.22988Z"
                            fill="#90A3BF"
                          />
                        </svg>
                      </div>
                      <span
                        class="error-msg"
                        v-if="v2$.password_confirmation.$error"
                        >{{
                          v2$.password_confirmation.$errors[0].$message
                        }}</span
                      >
                      <span
                        class="error-msg2"
                        v-if="errors1.password_confirmation"
                        >{{ errors1.password_confirmation[0] }}</span
                      >
                    </div>
                  </div>
                  <div class="d-flex align-items-center justify-content-center">
                    <button
                      @click="updatePassword()"
                      :disabled="pendingPass"
                      class="fill gap-3"
                    >
                      {{ $t("save edit") }}
                      <v-progress-circular
                        v-if="pendingPass"
                        indeterminate
                        :size="25"
                        :width="3"
                      ></v-progress-circular>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div v-if="personalActive == 2">
              <div class="personal">
                <div class="details">
                  <div class="image active">
                    <div class="img">
                      <img
                        v-if="!selectedFile && userData.image"
                        :src="userData.image"
                        alt=""
                      />
                      <!-- <img v-else src="~/assets/images/kk.jpg" alt="" /> -->
                      <div v-if="selectedFile">
                        <img :src="selectedFileUrl" alt="Selected Image" />
                      </div>

                      <label for="img-input" class="overlay">
                        <input
                          id="img-input"
                          type="file"
                          @change="handleFileChange"
                        />
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="105"
                          height="105"
                          viewBox="0 0 105 105"
                          fill="none"
                        >
                          <circle
                            opacity="0.6"
                            cx="52.5"
                            cy="52.5"
                            r="52.5"
                            fill="#D9D9D9"
                          />
                        </svg>
                        <div class="icon">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 16 16"
                            fill="none"
                          >
                            <path
                              d="M14 14.667H2C1.72667 14.667 1.5 14.4403 1.5 14.167C1.5 13.8937 1.72667 13.667 2 13.667H14C14.2733 13.667 14.5 13.8937 14.5 14.167C14.5 14.4403 14.2733 14.667 14 14.667Z"
                              fill="white"
                            />
                            <path
                              d="M12.6799 2.32043C11.3866 1.0271 10.1199 0.993764 8.79322 2.32043L7.98655 3.1271C7.91989 3.19376 7.89322 3.30043 7.91989 3.39376C8.42655 5.16043 9.83989 6.57376 11.6066 7.08043C11.6332 7.0871 11.6599 7.09376 11.6866 7.09376C11.7599 7.09376 11.8266 7.0671 11.8799 7.01376L12.6799 6.2071C13.3399 5.55376 13.6599 4.92043 13.6599 4.28043C13.6666 3.62043 13.3466 2.98043 12.6799 2.32043Z"
                              fill="white"
                            />
                            <path
                              d="M10.4066 7.68654C10.2132 7.5932 10.0266 7.49987 9.84655 7.3932C9.69989 7.30654 9.55989 7.2132 9.41989 7.1132C9.30655 7.03987 9.17322 6.9332 9.04655 6.82654C9.03322 6.81987 8.98655 6.77987 8.93322 6.72654C8.71322 6.53987 8.46655 6.29987 8.24655 6.0332C8.22655 6.01987 8.19322 5.9732 8.14655 5.9132C8.07989 5.8332 7.96655 5.69987 7.86655 5.54654C7.78655 5.44654 7.69322 5.29987 7.60655 5.1532C7.49989 4.9732 7.40655 4.7932 7.31322 4.60654C7.19085 4.34431 6.84668 4.26641 6.64206 4.47103L2.89322 8.21987C2.80655 8.30654 2.72655 8.4732 2.70655 8.58654L2.34655 11.1399C2.27989 11.5932 2.40655 12.0199 2.68655 12.3065C2.92655 12.5399 3.25989 12.6665 3.61989 12.6665C3.69989 12.6665 3.77989 12.6599 3.85989 12.6465L6.41989 12.2865C6.53989 12.2665 6.70655 12.1865 6.78655 12.0999L10.5416 8.34484C10.7421 8.14432 10.6668 7.79929 10.4066 7.68654Z"
                              fill="white"
                            />
                          </svg>
                        </div>
                      </label>
                    </div>
                  </div>
                  <div class="form">
                    <div class="inputs">
                      <div class="main-input">
                        <label for="">{{ $t("first name") }}</label>
                        <input
                          type="text"
                          v-model="userData.first_name"
                          placeholder="محمد"
                        />
                        <span class="error-msg" v-if="v$.first_name.$error">{{
                          v$.first_name.$errors[0].$message
                        }}</span>
                        <span class="error-msg2" v-if="errors.first_name">{{
                          errors.first_name[0]
                        }}</span>
                      </div>
                      <div class="main-input">
                        <label for="">{{ $t("last name") }}</label>
                        <input
                          type="text"
                          v-model="userData.last_name"
                          placeholder="محمد"
                        />
                        <span class="error-msg" v-if="v$.last_name.$error">{{
                          v$.last_name.$errors[0].$message
                        }}</span>
                        <span class="error-msg2" v-if="errors.last_name">{{
                          errors.last_name[0]
                        }}</span>
                      </div>
                    </div>
                    <div class="inputs">
                      <div class="main-input">
                        <label for="">{{ $t("phone") }}</label>
                        <input
                          type="tel"
                          maxlength="10"
                          v-model="userData.phone"
                          placeholder="+201066333725"
                        />
                        <div class="num">966+</div>
                        <span class="error-msg" v-if="v$.phone.$error">{{
                          v$.phone.$errors[0].$message
                        }}</span>
                        <span class="error-msg2" v-if="errors.phone">{{
                          errors.phone[0]
                        }}</span>
                      </div>
                      <div class="main-input">
                        <label for="">{{ $t("email") }}</label>
                        <input
                          type="email"
                          v-model="userData.email"
                          placeholder="m.info@icloud.com"
                        />
                        <span class="error-msg" v-if="v$.email.$error">{{
                          v$.email.$errors[0].$message
                        }}</span>
                        <span class="error-msg2" v-if="errors.email">{{
                          errors.email[0]
                        }}</span>
                      </div>
                    </div>
                  </div>

                  <div
                    class="btns d-flex align-items-center justify-content-center gap-3"
                  >
                    <button
                      @click="updateProfile()"
                      :disabled="pendingedit"
                      class="fill gap-3"
                    >
                      {{ $t("save edit") }}
                      <v-progress-circular
                        v-if="pendingedit"
                        indeterminate
                        :size="25"
                        :width="3"
                      ></v-progress-circular>
                    </button>
                    <button @click="personalActive = 1" class="stroke">
                      {{ $t("back btn") }}
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- <div v-if="navActive == 2" class="notifications">
            <div class="items">
              <div v-for="i in 6" class="item">
                <div class="icon d-flex align-items-center gap-3">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path
                      d="M20.19 14.0598L19.06 12.1798C18.81 11.7698 18.59 10.9798 18.59 10.4998V8.6298C18.59 4.9998 15.64 2.0498 12.02 2.0498C8.38996 2.0598 5.43996 4.9998 5.43996 8.6298V10.4898C5.43996 10.9698 5.21996 11.7598 4.97996 12.1698L3.84996 14.0498C3.41996 14.7798 3.31996 15.6098 3.58996 16.3298C3.85996 17.0598 4.46996 17.6398 5.26996 17.8998C6.34996 18.2598 7.43996 18.5198 8.54996 18.7098C8.65996 18.7298 8.76996 18.7398 8.87996 18.7598C9.01996 18.7798 9.16996 18.7998 9.31996 18.8198C9.57996 18.8598 9.83996 18.8898 10.11 18.9098C10.74 18.9698 11.38 18.9998 12.02 18.9998C12.65 18.9998 13.28 18.9698 13.9 18.9098C14.13 18.8898 14.36 18.8698 14.58 18.8398C14.76 18.8198 14.94 18.7998 15.12 18.7698C15.23 18.7598 15.34 18.7398 15.45 18.7198C16.57 18.5398 17.68 18.2598 18.76 17.8998C19.53 17.6398 20.12 17.0598 20.4 16.3198C20.68 15.5698 20.6 14.7498 20.19 14.0598ZM12.75 9.9998C12.75 10.4198 12.41 10.7598 11.99 10.7598C11.57 10.7598 11.23 10.4198 11.23 9.9998V6.89981C11.23 6.4798 11.57 6.1398 11.99 6.1398C12.41 6.1398 12.75 6.4798 12.75 6.89981V9.9998Z"
                      fill="#DCBA95" />
                    <path
                      d="M14.8299 20.01C14.4099 21.17 13.2999 22 11.9999 22C11.2099 22 10.4299 21.68 9.87993 21.11C9.55993 20.81 9.31993 20.41 9.17993 20C9.30993 20.02 9.43993 20.03 9.57993 20.05C9.80993 20.08 10.0499 20.11 10.2899 20.13C10.8599 20.18 11.4399 20.21 12.0199 20.21C12.5899 20.21 13.1599 20.18 13.7199 20.13C13.9299 20.11 14.1399 20.1 14.3399 20.07C14.4999 20.05 14.6599 20.03 14.8299 20.01Z"
                      fill="#DCBA95" />
                  </svg>
                  <h4>تم استلام طلبك بنجاح</h4>
                </div>
                <p>
                  هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم
                  توليد هذا النص من مولد النص العربى، حيث يمكنك أن تولد مثل هذا
                  النص أو العديد من النصوص الأخرى إضافة إلى زيادة عدد الحروف
                  التى يولدها التطبيق
                </p>
              </div>
            </div>
          </div>

          <div v-if="navActive == 3" class="address-container">
            <div class="items">
              <div v-for="item in addresses" class="item">
                <div class="d-flex align-items-center gap-3">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path
                      d="M20.6201 8.45C19.5701 3.83 15.5401 1.75 12.0001 1.75C12.0001 1.75 12.0001 1.75 11.9901 1.75C8.4601 1.75 4.4201 3.82 3.3701 8.44C2.2001 13.6 5.3601 17.97 8.2201 20.72C9.2801 21.74 10.6401 22.25 12.0001 22.25C13.3601 22.25 14.7201 21.74 15.7701 20.72C18.6301 17.97 21.7901 13.61 20.6201 8.45ZM12.0001 13.46C10.2601 13.46 8.8501 12.05 8.8501 10.31C8.8501 8.57 10.2601 7.16 12.0001 7.16C13.7401 7.16 15.1501 8.57 15.1501 10.31C15.1501 12.05 13.7401 13.46 12.0001 13.46Z"
                      fill="#DCBA95" />
                  </svg>
                  <h4>عنوان المنزل</h4>
                </div>
                <span>{{ item.add1 }} ، {{ item.add3 }} ، {{ item.add2 }} ،
                  {{ item.add4 }}</span>
              </div>
            </div>

            <div v-if="addressNav == 1" @click="addressNav = 2" class="add">
              <div class="d-flex align-items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="21" viewBox="0 0 18 21" fill="none">
                  <path
                    d="M17.6202 6.7C16.5802 2.07 12.5402 0 9.00024 0C9.00024 0 9.00024 0 8.99024 0C5.46024 0 1.43024 2.07 0.380239 6.69C-0.799761 11.85 2.36024 16.22 5.22024 18.98C6.28024 20 7.64024 20.51 9.00024 20.51C10.3602 20.51 11.7202 20 12.7702 18.98C15.6302 16.22 18.7902 11.86 17.6202 6.7ZM11.7502 9.75H9.75024V11.75C9.75024 12.16 9.41024 12.5 9.00024 12.5C8.59024 12.5 8.25024 12.16 8.25024 11.75V9.75H6.25024C5.84024 9.75 5.50024 9.41 5.50024 9C5.50024 8.59 5.84024 8.25 6.25024 8.25H8.25024V6.25C8.25024 5.84 8.59024 5.5 9.00024 5.5C9.41024 5.5 9.75024 5.84 9.75024 6.25V8.25H11.7502C12.1602 8.25 12.5002 8.59 12.5002 9C12.5002 9.41 12.1602 9.75 11.7502 9.75Z"
                    fill="#DCBA95" />
                </svg>
                <span>اضف عنوان جديد</span>
              </div>
            </div>

            <div v-if="addressNav == 2" class="form">
              <h5>اضافة عنوان جديد</h5>
              <div class="row">
                <div class="col-12 col-xl-8 col-lg-8">
                  <div>
                    <div class="d-flex align-items-center flex-column flex-xl-row flex-lg-row gap-3">
                      <div class="input">
                        <label for=""> المدينة </label>
                        <Dropdown v-model="formInputs.add1" :options="countries" filter optionLabel="name"
                          placeholder="مثال : مصرف الجارحي" class="">
                          <template #option="slotProps">
                            <div class="flex align-items-center">
                              <div>{{ slotProps.option.name }}</div>
                            </div>
                          </template>
                        </Dropdown>
                      </div>
                      <div class="input">
                        <label for=""> اسم الشارع <span>*</span></label>
                        <input type="text" v-model="formInputs.add2" placeholder="مثال : شارع المملكة" />
                      </div>
                    </div>
                    <div class="d-flex align-items-center flex-column flex-xl-row flex-lg-row gap-3">
                      <div class="input">
                        <label for=""> الحي <span>*</span></label>
                        <input type="text" v-model="formInputs.add3" placeholder="45 ب" />
                      </div>
                      <div class="input">
                        <label for=""> رقم المبني</label>
                        <input type="text" v-model="formInputs.add4" placeholder="مثال : الحي الخامس" />
                      </div>
                    </div>
                    <div class="input">
                      <label for=""> الاسم المميز للعنوان </label>
                      <input type="text" placeholder="مثال : المنزل , المكتب , الشركة ..الخ" />
                    </div>
                    <div class="btns d-flex align-items-center flex-column flex-xl-row flex-lg-row gap-3">
                      <button @click="addAddress(), (addressNav = 1)" class="fill">
                        حفظ التعديلات
                      </button>
                      <button @click="addressNav = 1" class="stroke">
                        الرجوع
                      </button>
                    </div>
                  </div>
                </div>
                <div class="col-12 col-xl-4 col-lg-4">
                  <div class="map-image">
                    <img class="image" src="~/assets/images/map.png" alt="" />
                    <div class="overlay">
                      <div class="text d-flex flex-column gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="24" viewBox="0 0 23 24" fill="none">
                          <path
                            d="M19.5422 8.45C18.5583 3.83 14.7821 1.75 11.4651 1.75C11.4651 1.75 11.4651 1.75 11.4558 1.75C8.14813 1.75 4.36262 3.82 3.37876 8.44C2.28246 13.6 5.24341 17.97 7.92325 20.72C8.91648 21.74 10.1908 22.25 11.4651 22.25C12.7395 22.25 14.0138 21.74 14.9977 20.72C17.6775 17.97 20.6384 13.61 19.5422 8.45ZM11.4651 13.46C9.83475 13.46 8.51357 12.05 8.51357 10.31C8.51357 8.57 9.83475 7.16 11.4651 7.16C13.0955 7.16 14.4167 8.57 14.4167 10.31C14.4167 12.05 13.0955 13.46 11.4651 13.46Z"
                            fill="white" />
                        </svg>
                        <span> العنوان </span>
                        <span> حدد علي الخريطة </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div v-if="navActive == 4">
          <div v-if="orders.length >= 1">
          <div   v-for="item , index in displayedOrders" class="orders">
            <div class="row">
              <div class="col-12 col-xl-5 col-lg-5">
                <div class="det">
                  <div class="head">
                    <h5>تم التوصيل</h5>
                  </div>
                  <div class="icons">
                    <div class="icon">
                      <div class="d-flex align-items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="19" viewBox="0 0 16 19" fill="none">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M10.3121 2.94843C10.3121 1.32158 8.95713 0 7.28918 0C5.62058 0 4.26562 1.32158 4.26562 2.94843C4.26562 3.21507 4.48749 3.43147 4.76086 3.43147C5.03423 3.43147 5.25609 3.21507 5.25609 2.94843C5.25609 1.8542 6.16732 0.966066 7.28918 0.966066C8.41105 0.966066 9.32162 1.8542 9.32162 2.94843C9.32162 3.21507 9.54348 3.43147 9.81685 3.43147C10.0902 3.43147 10.3121 3.21507 10.3121 2.94843Z"
                            fill="#919EAB" />
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M9.68961 14.0625H0.0840814L0.00220295 15.6603C-0.0222285 16.1446 0.157376 16.618 0.500077 16.969C0.842777 17.3207 1.31886 17.5197 1.81607 17.5197H9.42284C9.60377 17.5197 9.77083 17.4231 9.85733 17.2679C9.94383 17.1126 9.93723 16.9233 9.83884 16.7745C9.55557 16.3469 9.39115 15.8381 9.39115 15.2919C9.39115 14.8501 9.49878 14.4328 9.68961 14.0625ZM0.133605 13.0964H10.5196C10.9884 12.7544 11.5702 12.5515 12.2008 12.5515C12.7356 12.5515 13.2361 12.6977 13.662 12.9515C13.8185 13.0449 14.0153 13.0462 14.1731 12.9547C14.3309 12.8632 14.424 12.6945 14.4148 12.5155L13.9856 4.14675C13.9374 3.20387 13.1397 2.46387 12.1724 2.46387C9.81639 2.46387 4.76172 2.46387 2.40639 2.46387C1.43838 2.46387 0.640722 3.20387 0.59252 4.14675L0.133605 13.0964ZM9.32182 5.58877C9.32182 6.683 8.41125 7.57178 7.28938 7.57178C6.16752 7.57178 5.25629 6.683 5.25629 5.58877C5.25629 5.32213 5.03442 5.10574 4.76106 5.10574C4.48769 5.10574 4.26582 5.32213 4.26582 5.58877C4.26582 7.21627 5.62078 8.53785 7.28938 8.53785C8.95732 8.53785 10.3123 7.21627 10.3123 5.58877C10.3123 5.32213 10.0904 5.10574 9.81705 5.10574C9.54368 5.10574 9.32182 5.32213 9.32182 5.58877Z"
                            fill="#919EAB" />
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M12.2005 11.5876C10.1033 11.5876 8.40039 13.2486 8.40039 15.2941C8.40039 17.3396 10.1033 18.9999 12.2005 18.9999C14.2976 18.9999 15.9999 17.3396 15.9999 15.2941C15.9999 13.2486 14.2976 11.5876 12.2005 11.5876ZM12.2005 12.5537C13.7509 12.5537 15.0094 13.7819 15.0094 15.2941C15.0094 16.8063 13.7509 18.0339 12.2005 18.0339C10.6501 18.0339 9.39086 16.8063 9.39086 15.2941C9.39086 13.7819 10.6501 12.5537 12.2005 12.5537Z"
                            fill="#919EAB" />
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M12.2282 15.7206L11.2925 14.8073C11.0997 14.6192 10.7854 14.6192 10.5926 14.8073C10.3991 14.996 10.3991 15.3019 10.5926 15.4906L11.5283 16.4032C11.7217 16.5919 12.0354 16.5919 12.2282 16.4032C12.4217 16.2152 12.4217 15.9086 12.2282 15.7206Z"
                            fill="#919EAB" />
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M12.2281 16.4055L13.8095 14.8637C14.003 14.675 14.003 14.3691 13.8095 14.1803C13.6161 13.9916 13.3024 13.9916 13.1089 14.1803L11.5282 15.7228C11.3347 15.9109 11.3347 16.2175 11.5282 16.4055C11.7216 16.5942 12.0353 16.5942 12.2281 16.4055Z"
                            fill="#919EAB" />
                        </svg>
                        <span>رقم الطلب</span>
                      </div>
                      <h6>15888</h6>
                    </div>
                    <div class="icon">
                      <div class="d-flex align-items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="19" viewBox="0 0 16 19" fill="none">
                          <path
                            d="M12.2221 2.1152V0.686752C12.2221 0.311328 11.9199 0 11.5555 0C11.191 0 10.8888 0.311328 10.8888 0.686752V2.06026H5.11102V0.686752C5.11102 0.311328 4.80879 0 4.44435 0C4.07991 0 3.77768 0.311328 3.77768 0.686752V2.1152C1.37768 2.34411 0.213239 3.81834 0.0354609 6.00679C0.0176831 6.27234 0.231016 6.4921 0.479905 6.4921H15.5199C15.7777 6.4921 15.991 6.26318 15.9643 6.00679C15.7866 3.81834 14.6221 2.34411 12.2221 2.1152Z"
                            fill="#919EAB" />
                          <path
                            d="M15.1111 7.86548H0.888889C0.4 7.86548 0 8.27753 0 8.78115V14.4217C0 17.1687 1.33333 19 4.44444 19H11.5556C14.6667 19 16 17.1687 16 14.4217V8.78115C16 8.27753 15.6 7.86548 15.1111 7.86548ZM5.52 15.5296C5.43111 15.612 5.33333 15.6761 5.22667 15.7219C5.12 15.7677 5.00444 15.7952 4.88889 15.7952C4.77333 15.7952 4.65778 15.7677 4.55111 15.7219C4.44444 15.6761 4.34667 15.612 4.25778 15.5296C4.09778 15.3557 4 15.1176 4 14.8795C4 14.6414 4.09778 14.4034 4.25778 14.2294C4.34667 14.147 4.44444 14.0829 4.55111 14.0371C4.76444 13.9455 5.01333 13.9455 5.22667 14.0371C5.33333 14.0829 5.43111 14.147 5.52 14.2294C5.68 14.4034 5.77778 14.6414 5.77778 14.8795C5.77778 15.1176 5.68 15.3557 5.52 15.5296ZM5.70667 12.0226C5.66222 12.1325 5.6 12.2332 5.52 12.3248C5.43111 12.4072 5.33333 12.4713 5.22667 12.5171C5.12 12.5629 5.00444 12.5903 4.88889 12.5903C4.77333 12.5903 4.65778 12.5629 4.55111 12.5171C4.44444 12.4713 4.34667 12.4072 4.25778 12.3248C4.17778 12.2332 4.11556 12.1325 4.07111 12.0226C4.02667 11.9127 4 11.7937 4 11.6747C4 11.5556 4.02667 11.4366 4.07111 11.3267C4.11556 11.2168 4.17778 11.1161 4.25778 11.0245C4.34667 10.9421 4.44444 10.878 4.55111 10.8322C4.76444 10.7407 5.01333 10.7407 5.22667 10.8322C5.33333 10.878 5.43111 10.9421 5.52 11.0245C5.6 11.1161 5.66222 11.2168 5.70667 11.3267C5.75111 11.4366 5.77778 11.5556 5.77778 11.6747C5.77778 11.7937 5.75111 11.9127 5.70667 12.0226ZM8.63111 12.3248C8.54222 12.4072 8.44444 12.4713 8.33778 12.5171C8.23111 12.5629 8.11556 12.5903 8 12.5903C7.88444 12.5903 7.76889 12.5629 7.66222 12.5171C7.55556 12.4713 7.45778 12.4072 7.36889 12.3248C7.20889 12.1508 7.11111 11.9127 7.11111 11.6747C7.11111 11.4366 7.20889 11.1985 7.36889 11.0245C7.45778 10.9421 7.55556 10.878 7.66222 10.8322C7.87556 10.7315 8.12444 10.7315 8.33778 10.8322C8.44444 10.878 8.54222 10.9421 8.63111 11.0245C8.79111 11.1985 8.88889 11.4366 8.88889 11.6747C8.88889 11.9127 8.79111 12.1508 8.63111 12.3248Z"
                            fill="#919EAB" />
                        </svg>
                        <span>التاريخ</span>
                      </div>
                      <h6>29 اكتوبر 2023</h6>
                    </div>
                    <div class="icon">
                      <div class="d-flex align-items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="23" viewBox="0 0 18 23" fill="none">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M16.5877 1.41096C15.6738 0.50685 14.4277 0 13.1538 0H4.84615C3.57231 0 2.32615 0.50685 1.42615 1.41096C0.512308 2.30137 0 3.53425 0 4.79452V22.6986L3.07385 20.6575C3.35077 20.4795 3.72462 20.5205 3.94615 20.7534L6.23077 23L8.51538 20.7534C8.64 20.6164 8.82 20.5479 9 20.5479C9.18 20.5479 9.36 20.6164 9.48462 20.7534L11.7692 23L14.0538 20.7534C14.2754 20.5205 14.6492 20.4795 14.9262 20.6575L18 22.6986V4.79452C18 3.50685 17.5015 2.31507 16.5877 1.41096ZM3.46154 17.1233C2.7 17.1233 2.07692 16.5068 2.07692 15.7534C2.07692 15 2.7 14.3836 3.46154 14.3836C4.22308 14.3836 4.84615 15 4.84615 15.7534C4.84615 16.5068 4.22308 17.1233 3.46154 17.1233ZM3.46154 11.6438C2.7 11.6438 2.07692 11.0274 2.07692 10.274C2.07692 9.52055 2.7 8.90411 3.46154 8.90411C4.22308 8.90411 4.84615 9.52055 4.84615 10.274C4.84615 11.0274 4.22308 11.6438 3.46154 11.6438ZM3.46154 6.16438C2.7 6.16438 2.07692 5.54795 2.07692 4.79452C2.07692 4.0411 2.7 3.42466 3.46154 3.42466C4.22308 3.42466 4.84615 4.0411 4.84615 4.79452C4.84615 5.54795 4.22308 6.16438 3.46154 6.16438ZM13.8462 16.4384H7.61539C7.22769 16.4384 6.92308 16.137 6.92308 15.7534C6.92308 15.3699 7.22769 15.0685 7.61539 15.0685H13.8462C14.2338 15.0685 14.5385 15.3699 14.5385 15.7534C14.5385 16.137 14.2338 16.4384 13.8462 16.4384ZM13.8462 10.9589H7.61539C7.22769 10.9589 6.92308 10.6575 6.92308 10.274C6.92308 9.89041 7.22769 9.58904 7.61539 9.58904H13.8462C14.2338 9.58904 14.5385 9.89041 14.5385 10.274C14.5385 10.6575 14.2338 10.9589 13.8462 10.9589ZM13.8462 5.47945H7.61539C7.22769 5.47945 6.92308 5.17808 6.92308 4.79452C6.92308 4.41096 7.22769 4.10959 7.61539 4.10959H13.8462C14.2338 4.10959 14.5385 4.41096 14.5385 4.79452C14.5385 5.17808 14.2338 5.47945 13.8462 5.47945Z"
                            fill="#919EAB" />
                        </svg>
                        <span>الاجمالي</span>
                      </div>
                      <h6>6000 ر.س</h6>
                    </div>
                    <div class="icon">
                      <div class="d-flex align-items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="17" viewBox="0 0 18 17" fill="none">
                          <path
                            d="M11.528 4.39999C12.7546 4.39999 13.7527 3.41308 13.7527 2.19999C13.7527 0.986909 12.7546 0 11.528 0C10.3012 0 9.30322 0.986909 9.30322 2.19999C9.30322 3.41305 10.3012 4.39999 11.528 4.39999ZM11.0024 2.00333C10.8381 1.87598 10.7633 1.65464 10.8068 1.42579C10.8544 1.17609 11.0301 0.977394 11.2653 0.907375C11.2808 0.902747 11.2957 0.899809 11.3108 0.896039V0.573587H11.6923V0.882285C11.9286 0.926174 12.073 1.05391 12.0819 1.062L12.2221 1.18984L11.9636 1.46718L11.8247 1.34054C11.8183 1.3351 11.7711 1.29691 11.6923 1.27047V1.92777C11.7305 1.94189 11.7688 1.95567 11.8064 1.96878C12.1613 2.09287 12.3512 2.40534 12.2901 2.76469C12.2429 3.04229 12.0275 3.32309 11.6923 3.40356V3.74458H11.3109V3.42176C11.1452 3.40881 11.0096 3.36672 10.8164 3.24174L10.6568 3.1386L10.8656 2.82288L11.0251 2.9261C11.1395 3.00012 11.2121 3.03031 11.3108 3.04229V2.18042C11.1801 2.1215 11.0818 2.06495 11.0024 2.00333Z"
                            fill="#919EAB" />
                          <path
                            d="M11.9141 2.70209C11.925 2.63777 11.94 2.42389 11.6924 2.32959V3.00497C11.819 2.94093 11.8943 2.81837 11.9141 2.70209Z"
                            fill="#919EAB" />
                          <path
                            d="M11.1819 1.4958C11.165 1.58436 11.187 1.66714 11.2379 1.70666C11.2596 1.72341 11.2846 1.73961 11.3111 1.7557V1.29883C11.236 1.34664 11.195 1.42672 11.1819 1.4958Z"
                            fill="#919EAB" />
                          <path
                            d="M16.9888 2.20001C17.3234 2.20001 17.5955 1.93083 17.5955 1.6C17.5955 1.26918 17.3233 1 16.9888 1C16.6542 1 16.3821 1.26915 16.3821 1.6C16.3821 1.93085 16.6542 2.20001 16.9888 2.20001Z"
                            fill="#919EAB" />
                          <path
                            d="M3.03362 3.40007C3.47969 3.40007 3.8426 3.04113 3.8426 2.60007C3.8426 2.15898 3.47969 1.80005 3.03362 1.80005C2.58755 1.80005 2.22461 2.15898 2.22461 2.60007C2.22464 3.04116 2.58755 3.40007 3.03362 3.40007Z"
                            fill="#919EAB" />
                          <path
                            d="M2.76404 6.60003H16.5843V6.13336C16.5843 5.39815 15.9794 4.80005 15.2359 4.80005H1.34834C0.604825 4.80005 0 5.39815 0 6.13336V13.4667C0 14.0778 0.429403 14.6072 1.01122 14.757V8.33335C1.01122 7.37759 1.79752 6.60003 2.76404 6.60003Z"
                            fill="#919EAB" />
                          <path d="M1.41577 9.3999H18V10.9999H1.41577V9.3999Z" fill="#919EAB" />
                          <path
                            d="M16.6517 7H2.76411C2.02062 7 1.41577 7.59813 1.41577 8.33333V9H18V8.33333C18.0001 7.59813 17.3952 7 16.6517 7Z"
                            fill="#919EAB" />
                          <path
                            d="M1.41577 15.6666C1.41577 16.4018 2.0206 16.9999 2.76411 16.9999H16.6518C17.3952 16.9999 18 16.4018 18 15.6666V11.3999H1.41577V15.6666ZM6.43142 15.022C6.40016 15.1303 6.28605 15.193 6.17654 15.1621C6.06712 15.1311 6.0037 15.0183 6.03496 14.9101C6.06622 14.8018 6.18038 14.7392 6.28984 14.7701C6.39929 14.801 6.46268 14.9138 6.43142 15.022ZM2.8315 12.7999H8.49443C8.60615 12.7999 8.69667 12.8894 8.69667 12.9999C8.69667 13.1104 8.60615 13.1999 8.49443 13.1999H2.8315C2.71976 13.1999 2.62926 13.1104 2.62926 12.9999C2.62926 12.8894 2.71976 12.7999 2.8315 12.7999ZM2.8315 13.7999H8.49443C8.60615 13.7999 8.69667 13.8894 8.69667 13.9999C8.69667 14.1104 8.60615 14.1999 8.49443 14.1999H2.8315C2.71976 14.1999 2.62926 14.1104 2.62926 13.9999C2.62923 13.8894 2.71976 13.7999 2.8315 13.7999ZM2.8315 14.7999H5.66295C5.77467 14.7999 5.86519 14.8894 5.86519 14.9999C5.86519 15.1104 5.77467 15.1999 5.66295 15.1999H2.8315C2.71976 15.1999 2.62926 15.1104 2.62926 14.9999C2.62926 14.8894 2.71976 14.7999 2.8315 14.7999Z"
                            fill="#919EAB" />
                          <path
                            d="M1.1122 1.39978C1.27974 1.39978 1.41556 1.26547 1.41556 1.09979C1.41556 0.934114 1.27974 0.799805 1.1122 0.799805C0.944656 0.799805 0.808838 0.934114 0.808838 1.09979C0.808838 1.26547 0.944656 1.39978 1.1122 1.39978Z"
                            fill="#919EAB" />
                          <path
                            d="M5.76405 1.00012C5.93159 1.00012 6.06741 0.865814 6.06741 0.700135C6.06741 0.534456 5.93159 0.400146 5.76405 0.400146C5.59651 0.400146 5.46069 0.534456 5.46069 0.700135C5.46069 0.865814 5.59651 1.00012 5.76405 1.00012Z"
                            fill="#919EAB" />
                          <path
                            d="M7.98869 3.39983C8.15624 3.39983 8.29207 3.26551 8.29207 3.09982C8.29207 2.93413 8.15624 2.7998 7.98869 2.7998C7.82113 2.7998 7.6853 2.93413 7.6853 3.09982C7.6853 3.26551 7.82113 3.39983 7.98869 3.39983Z"
                            fill="#919EAB" />
                          <path
                            d="M14.8652 0.79998C15.0327 0.79998 15.1685 0.665659 15.1685 0.499966C15.1685 0.334272 15.0327 0.199951 14.8652 0.199951C14.6976 0.199951 14.5618 0.334272 14.5618 0.499966C14.5618 0.665659 14.6976 0.79998 14.8652 0.79998Z"
                            fill="#919EAB" />
                          <path
                            d="M17.6965 4.60003C17.864 4.60003 17.9998 4.46571 17.9998 4.30001C17.9998 4.13432 17.864 4 17.6965 4C17.5289 4 17.3931 4.13432 17.3931 4.30001C17.3931 4.46571 17.5289 4.60003 17.6965 4.60003Z"
                            fill="#919EAB" />
                        </svg>
                        <span>طريقة الدفع</span>
                      </div>
                      <h6>دفع عند الاستلام</h6>
                    </div>
                  </div>

                  <div class="icon address">
                    <div class="d-flex align-items-center gap-2">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="19" viewBox="0 0 16 19" fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M10.3121 2.94843C10.3121 1.32158 8.95713 0 7.28918 0C5.62058 0 4.26562 1.32158 4.26562 2.94843C4.26562 3.21507 4.48749 3.43147 4.76086 3.43147C5.03423 3.43147 5.25609 3.21507 5.25609 2.94843C5.25609 1.8542 6.16732 0.966066 7.28918 0.966066C8.41105 0.966066 9.32162 1.8542 9.32162 2.94843C9.32162 3.21507 9.54348 3.43147 9.81685 3.43147C10.0902 3.43147 10.3121 3.21507 10.3121 2.94843Z"
                          fill="#919EAB" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M9.68961 14.0625H0.0840814L0.00220295 15.6603C-0.0222285 16.1446 0.157376 16.618 0.500077 16.969C0.842777 17.3207 1.31886 17.5197 1.81607 17.5197H9.42284C9.60377 17.5197 9.77083 17.4231 9.85733 17.2679C9.94383 17.1126 9.93723 16.9233 9.83884 16.7745C9.55557 16.3469 9.39115 15.8381 9.39115 15.2919C9.39115 14.8501 9.49878 14.4328 9.68961 14.0625ZM0.133605 13.0964H10.5196C10.9884 12.7544 11.5702 12.5515 12.2008 12.5515C12.7356 12.5515 13.2361 12.6977 13.662 12.9515C13.8185 13.0449 14.0153 13.0462 14.1731 12.9547C14.3309 12.8632 14.424 12.6945 14.4148 12.5155L13.9856 4.14675C13.9374 3.20387 13.1397 2.46387 12.1724 2.46387C9.81639 2.46387 4.76172 2.46387 2.40639 2.46387C1.43838 2.46387 0.640722 3.20387 0.59252 4.14675L0.133605 13.0964ZM9.32182 5.58877C9.32182 6.683 8.41125 7.57178 7.28938 7.57178C6.16752 7.57178 5.25629 6.683 5.25629 5.58877C5.25629 5.32213 5.03442 5.10574 4.76106 5.10574C4.48769 5.10574 4.26582 5.32213 4.26582 5.58877C4.26582 7.21627 5.62078 8.53785 7.28938 8.53785C8.95732 8.53785 10.3123 7.21627 10.3123 5.58877C10.3123 5.32213 10.0904 5.10574 9.81705 5.10574C9.54368 5.10574 9.32182 5.32213 9.32182 5.58877Z"
                          fill="#919EAB" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M12.2005 11.5876C10.1033 11.5876 8.40039 13.2486 8.40039 15.2941C8.40039 17.3396 10.1033 18.9999 12.2005 18.9999C14.2976 18.9999 15.9999 17.3396 15.9999 15.2941C15.9999 13.2486 14.2976 11.5876 12.2005 11.5876ZM12.2005 12.5537C13.7509 12.5537 15.0094 13.7819 15.0094 15.2941C15.0094 16.8063 13.7509 18.0339 12.2005 18.0339C10.6501 18.0339 9.39086 16.8063 9.39086 15.2941C9.39086 13.7819 10.6501 12.5537 12.2005 12.5537Z"
                          fill="#919EAB" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M12.2282 15.7206L11.2925 14.8073C11.0997 14.6192 10.7854 14.6192 10.5926 14.8073C10.3991 14.996 10.3991 15.3019 10.5926 15.4906L11.5283 16.4032C11.7217 16.5919 12.0354 16.5919 12.2282 16.4032C12.4217 16.2152 12.4217 15.9086 12.2282 15.7206Z"
                          fill="#919EAB" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M12.2281 16.4055L13.8095 14.8637C14.003 14.675 14.003 14.3691 13.8095 14.1803C13.6161 13.9916 13.3024 13.9916 13.1089 14.1803L11.5282 15.7228C11.3347 15.9109 11.3347 16.2175 11.5282 16.4055C11.7216 16.5942 12.0353 16.5942 12.2281 16.4055Z"
                          fill="#919EAB" />
                      </svg>
                      <span>العنوان</span>
                    </div>
                    <h6>الرياض ، الحي الخامس ، شارع المملكة ، 45 ب</h6>
                  </div>



                </div>



              </div>

              <div class="col-12 col-xl-7 col-lg-7">
                <div class="items-container">
                  <div v-for="i in item.allOrders" class="item d-flex align-items-center gap-3">
                    <v-badge color="#B1628C" :content="5">
                      <div class="image">
                        <img src="~/assets/images/watch.png" alt="" />
                      </div>
                    </v-badge>
                    <div class="d-flex flex-column gap-2">
                      <h6>ساعة إليت كلاسيك</h6>
                      <span>180 ريال سعودي</span>
                    </div>
                  </div>
                </div>
                <div @click="showAll(index)" class="show d-flex align-items-center justify-content-center gap-3">
                  <span v-if="!showAllItems[index]">اظهار جميع منتجات الطلب</span>
                  <span v-if="showAllItems[index]">اخفاء المنتجات </span>
                  <svg v-if="!showAllItems[index]" xmlns="http://www.w3.org/2000/svg" width="6" height="10" viewBox="0 0 6 10" fill="none">
                    <path
                      d="M5.95019 8.61251L5.9502 4.45918L5.9502 0.719181C5.9502 0.0791812 5.04709 -0.240819 4.51769 0.212515L0.484865 3.66585C-0.161321 4.21918 -0.161321 5.11918 0.484865 5.67251L2.01858 6.98585L4.51769 9.12585C5.04709 9.57252 5.95019 9.25251 5.95019 8.61251Z"
                      fill="#919EAB" />
                  </svg>
                    <svg v-if="showAllItems[index]" xmlns="http://www.w3.org/2000/svg" width="10" height="6" viewBox="0 0 10 6" fill="none">
                      <path
                        d="M0.721958 6L4.87529 6L8.61529 6C9.25529 6 9.57529 5.0969 9.12196 4.56749L5.66863 0.53467C5.11529 -0.111516 4.21529 -0.111516 3.66196 0.534669L2.34863 2.06839L0.208624 4.56749C-0.238043 5.0969 0.0819578 6 0.721958 6Z"
                        fill="#919EAB" />
                    </svg>
                </div>
              </div>
            </div>
          </div>
            
          </div>
           <div v-else class="empty-container">
          <div class="empty">
          <client-only>
              <Vue3Lottie :animation-data="cart" :height="200" :width="200" />
          </client-only>
            <h4> لا يوجد لديك طلبات حاليا </h4>
            <p>ابدأ رحلتك الان في اكتشاف أفخر قطع المجوهرات، وقدم لذاتك لمسة من الرفاهية مع أحدث منتجاتنا.</p>

            <nuxt-link :to="localePath('/')">
              <button>تسوق الان</button>

            </nuxt-link>

          </div>
        </div>
          
          </div> -->
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
definePageMeta({
  middleware: "auth",
});
// import { createToast } from 'mosha-vue-toastify';
import "mosha-vue-toastify/dist/style.css";
import { useStore } from "~/store";
import Cookies from "js-cookie";
import { Vue3Lottie } from "vue3-lottie";
import useValidate from "@vuelidate/core";
import {
  required,
  email,
  sameAs,
  minLength,
  helpers,
} from "@vuelidate/validators";
import cart from "~/assets/animations/empty.json";
import axios from "axios";
let personalActive = ref(1);
let passActive = ref(false);
let selectedFile = ref(null);
let selectedFileUrl = ref(null);
const MainRoute = ref(useRoute());
const route = useRoute();
const router = useRouter();
let navActive = ref(0);
const localePath = useLocalePath();
const { locale } = useI18n();
const tokenCookie = Cookies.get("token");

let passType = ref("password");
let passConfType = ref("password");
let passCurr = ref("password");

const changePass1 = () => {
  passType.value = passType.value === "password" ? "text" : "password";
};
const changePass2 = () => {
  passConfType.value = passConfType.value === "password" ? "text" : "password";
};
const changePass3 = () => {
  passCurr.value = passCurr.value === "password" ? "text" : "password";
};

let pendingPass = ref(false);
let pendingedit = ref(false);

let store = useStore;
let user = ref(store.state.user);
let userData = ref({
  id: user.value.id,
  image: user.value.image,
  first_name: user.value.first_name,
  last_name: user.value.last_name,
  phone: user.value.phone,
  email: user.value.email,
});

let passwordUpdate = ref({
  old_password: "",
  password: "",
  password_confirmation: "",
});
if (MainRoute.value.query.name == "profile") {
  navActive.value = 1;
}
if (MainRoute.value.query.name == "notifications") {
  navActive.value = 2;
}
if (MainRoute.value.query.name == "orders") {
  navActive.value = 4;
}
const handleFileChange = (event) => {
  const file = event.target.files[0];
  if (file) {
    selectedFile.value = file;
    // userData.value.image = '';
    userData.value.image = URL.createObjectURL(file);
    // userData.value.image = file;
    selectedFileUrl.value = URL.createObjectURL(file);
  }
};

let value1 = ref("value is required");
let value2 = ref("The email field is required");
let value3 = ref("Invalid email format");
let value4 = ref("This field should be at least 8 characters long");
let value5 = ref("This field should be at least 8 numbers long");
if (locale.value == "ar") {
  value1.value = "هذا الحقل مطلوبة";
  value2.value = "حقل البريد الإلكتروني مطلوب";
  value3.value = "تنسيق البريد الإلكتروني غير صالح";
  value4.value = "يجب أن يكون هذا الحقل 8 أحرف على الأقل";
  value5.value = "يجب أن يكون هذا الحقل 10 رقم على الأقل";
} else {
  value1.value = "value is required";
  value2.value = "The email field is required";
  value3.value = "Invalid email format";
  value4.value = "This field should be at least 8 characters long";
  value5.value = "This field should be at least 10 numbers long";
}

const rules1 = computed(() => {
  return {
    first_name: { required: helpers.withMessage(value1.value, required) },
    last_name: { required: helpers.withMessage(value1.value, required) },
    phone: {
      required: helpers.withMessage(value1.value, required),
      minLength: helpers.withMessage(value5.value, minLength(10)),
    },
    email: {
      required: helpers.withMessage(value2.value, required),
      email: helpers.withMessage(value3.value, email),
    },
  };
});
const rules2 = computed(() => {
  return {
    password: { required, minLength: minLength(8) },
    old_password: { required, minLength: minLength(8) },
    password_confirmation: {
      required,
      sameAs: sameAs(passwordUpdate.value.password),
    },
  };
});

const v$ = useValidate(rules1, userData);
const v2$ = useValidate(rules2, passwordUpdate);
let errors = ref([]);
let errors1 = ref([]);
let textEdit = ref(
  locale.value == "ar"
    ? "تم تعديل البيانات بنجاح"
    : "data has been edited successfully"
);
const updateProfile = async () => {
  let formBody = new FormData();
  formBody.append("first_name", userData.value.first_name);
  formBody.append("last_name", userData.value.last_name);
  formBody.append("phone", userData.value.phone);
  formBody.append("email", userData.value.email);
  if (selectedFile.value) {
    formBody.append("image", selectedFile.value);
  }
  let check = await v$.value.$validate();
  if (check) {
    pendingedit.value = true;
    try {
      let result = await axios.post(
        `${getUrl()}/customers/update-info`,
        formBody,
        {
          headers: {
            "Content-Language": `${locale.value}`,
            Authorization: `Bearer ${tokenCookie}`,
          },
        }
      );
      if (result.status >= 200) {
        pendingedit.value = false;
        const moshaToastify = await import("mosha-vue-toastify");
        const { createToast } = moshaToastify;
        createToast(
          {
            title: textEdit.value,
          },
          {
            showIcon: "true",
            type: "success",
            toastBackgroundColor: "#dcba95",
            timeout: 2000,
          }
        );
        if (process.client) {
          store.state.user = result.data.data;
          user.value = store.state.user;
          const userObjectString = JSON.stringify(result.data.data);
          Cookies.set("user", userObjectString);
          personalActive.value = 1;
        }
      }
    } catch (errorss) {
      console.log(errorss);
      if (errorss.response) {
        pendingedit.value = false;
        errors.value = errorss.response.data.errors;
      }
    }
  }
};

let textPass = ref("تم تغيير كلمة المرور بنجاح");

if (locale.value == "ar") {
  textPass.value = "تم تغيير كلمة المرور بنجاح";
} else {
  textPass.value = "The password has been changed successfully";
}
const updatePassword = async () => {
  let formBody = new FormData();
  formBody.append("password", passwordUpdate.value.password);
  formBody.append("old_password", passwordUpdate.value.old_password);
  formBody.append(
    "password_confirmation",
    passwordUpdate.value.password_confirmation
  );
  let check = await v2$.value.$validate();
  if (check) {
    pendingPass.value = true;
    try {
      let result = await axios.post(
        `${getUrl()}/customers/update-password`,
        formBody,
        {
          headers: {
            "Content-Language": `${locale.value}`,
            Authorization: `Bearer ${tokenCookie}`,
          },
        }
      );
      if (result.status >= 200) {
        pendingPass.value = false;
        errors1.value = [];
        passwordUpdate.value.password = "";
        passwordUpdate.value.old_password = "";
        passwordUpdate.value.password_confirmation = "";
        passActive.value = false;
        const moshaToastify = await import("mosha-vue-toastify");
        const { createToast } = moshaToastify;
        createToast(
          {
            title: textPass.value,
          },
          {
            showIcon: "true",
            type: "success",
            toastBackgroundColor: "#dcba95",
            timeout: 2000,
          }
        );
        if (process.client) {
        }
      }
    } catch (errorss) {
      console.log(errorss);
      if (errorss.response) {
        pendingPass.value = false;
        errors1.value = errorss.response.data.errors;
      }
    }
  }
};
let addressNav = ref(1);
const selectedCountry = ref("");
const countries = ref([
  { name: "Australia", code: "AU" },
  { name: "Brazil", code: "BR" },
  { name: "China", code: "CN" },
  { name: "Egypt", code: "EG" },
  { name: "France", code: "FR" },
  { name: "Germany", code: "DE" },
  { name: "India", code: "IN" },
  { name: "Japan", code: "JP" },
  { name: "Spain", code: "ES" },
  { name: "United States", code: "US" },
]);

let formInputs = ref({
  add1: "",
  add2: "",
  add3: "",
  add4: "",
});
let addresses = ref([
  {
    add1: "الرياض",
    add2: "شارع المملكة",
    add3: "الحي الخامس",
    add4: "45 ب",
  },
  {
    add1: "الرياض",
    add2: "شارع المملكة",
    add3: "الحي الخامس",
    add4: "45 ب",
  },
]);

let addAddress = () => {
  addresses.value.push({
    add1: formInputs.value.add1.name,
    add2: formInputs.value.add2,
    add3: formInputs.value.add3,
    add4: formInputs.value.add4,
  });
  formInputs.value = {
    add1: "",
    add2: "",
    add3: "",
    add4: "",
  };
};

let orders = ref([
  // {
  //   allOrders: [{ item: 1 }, { item: 2 }, { item: 3 }, { item: 4 }]
  // },
  // {
  //   allOrders: [{ item: 1 }, { item: 2 } , {item:4} ,{item:5} , {item:3}]
  // },
  // {
  //   allOrders: [{ item: 1 }, { item: 2 } , {item:4} ,{item:5} , {item:3}]
  // }
]);

const showAllItems = ref(Array(orders.value.length).fill(false));

const displayedOrders = computed(() => {
  return orders.value.map((order, index) => {
    if (showAllItems.value[index]) {
      return order;
    } else {
      // Show only two items initially
      return {
        allOrders: order.allOrders.slice(0, 2),
      };
    }
  });
});

onMounted(() => {
  console.log(showAllItems.value);
  console.log(MainRoute.value.query.name);
  user.value = store.state.user;
  console.log(user.value);
});

const showAll = (index) => {
  showAllItems.value[index] = !showAllItems.value[index];
};
let items = ref([
  {
    title: locale.value == "ar" ? "الاعدادات" : "settings",
    disabled: true,
    href: "/",
  },
  {
    title: locale.value == "ar" ? "الملف الشخصي" : "profile",
    disabled: false,
    class: "fw-bold",
  },
]);
</script>

<style lang=""></style>
