<template>
    <div class="mobile-nav-container">
        <div class="container main">
            <div v-if="auth" class="header">
                <div class="w-100 image d-flex align-item-center gap-3">
                    <img :src="user.image" alt="">
                    <div class="w-100 text d-flex flex-column">
                        <h4>{{ user.first_name }} {{ user.last_name }}</h4>
                        <div class="d-flex align-items-center justify-content-between">
                            <span>{{ user.email }}</span>
                            <nuxt-link :to="localePath({ path: '/settings', query: { name: 'profile' } })">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">
                                <path
                                    d="M15.75 17.4165H2.25C1.9425 17.4165 1.6875 17.1473 1.6875 16.8228C1.6875 16.4982 1.9425 16.229 2.25 16.229H15.75C16.0575 16.229 16.3125 16.4982 16.3125 16.8228C16.3125 17.1473 16.0575 17.4165 15.75 17.4165Z"
                                    fill="#DCBA95" />
                                <path
                                    d="M14.2651 2.75514C12.8101 1.21931 11.3851 1.17973 9.89256 2.75514L8.98506 3.71306C8.91006 3.79223 8.88006 3.9189 8.91006 4.02973C9.48006 6.12765 11.0701 7.80598 13.0576 8.40765C13.0876 8.41556 13.1176 8.42348 13.1476 8.42348C13.2301 8.42348 13.3051 8.39181 13.3651 8.32848L14.2651 7.37056C15.0076 6.59473 15.3676 5.84265 15.3676 5.08265C15.3751 4.2989 15.0151 3.5389 14.2651 2.75514Z"
                                    fill="#DCBA95" />
                                <path
                                    d="M11.7075 9.12788C11.49 9.01705 11.28 8.90622 11.0775 8.77955C10.9125 8.67663 10.755 8.5658 10.5975 8.44705C10.47 8.35997 10.32 8.2333 10.1775 8.10663C10.1625 8.09872 10.11 8.05122 10.05 7.98788C9.80249 7.76622 9.52499 7.48122 9.27749 7.16455C9.25499 7.14872 9.21749 7.0933 9.16499 7.02205C9.08999 6.92705 8.96249 6.76872 8.84999 6.58663C8.75999 6.46788 8.65499 6.29372 8.55749 6.11955C8.43749 5.9058 8.33249 5.69205 8.22749 5.47038C8.09272 5.16553 7.69225 5.07744 7.46302 5.31941L3.25499 9.76122C3.1575 9.86413 3.06749 10.0621 3.04499 10.1966L2.63999 13.2287C2.56499 13.767 2.7075 14.2737 3.0225 14.6141C3.2925 14.8912 3.66749 15.0416 4.07249 15.0416C4.16249 15.0416 4.25249 15.0337 4.34249 15.0179L7.22249 14.5904C7.35749 14.5666 7.54499 14.4716 7.63499 14.3687L11.869 9.89951C12.0951 9.66083 12.0065 9.26464 11.7075 9.12788Z"
                                    fill="#DCBA95" />
                            </svg>
                            
                            </nuxt-link>
                        </div>
                    </div>
                </div>
            </div>

            <div class="links">
                <nuxt-link :to="localePath('/vendors')" class="link">
                    <div class="d-flex align-items-center gap-3">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path
                                    d="M17.53 7.77C17.46 7.76 17.39 7.76 17.32 7.77C15.77 7.72 14.54 6.45 14.54 4.89C14.54 3.3 15.83 2 17.43 2C19.02 2 20.32 3.29 20.32 4.89C20.31 6.45 19.08 7.72 17.53 7.77Z"
                                    fill="#DCBA95" />
                                <path
                                    d="M20.7901 14.6999C19.6701 15.4499 18.1001 15.7299 16.6501 15.5399C17.0301 14.7199 17.2301 13.8099 17.2401 12.8499C17.2401 11.8499 17.0201 10.8999 16.6001 10.0699C18.0801 9.86991 19.6501 10.1499 20.7801 10.8999C22.3601 11.9399 22.3601 13.6499 20.7901 14.6999Z"
                                    fill="#DCBA95" />
                                <path
                                    d="M6.43991 7.77C6.50991 7.76 6.57991 7.76 6.64991 7.77C8.19991 7.72 9.42991 6.45 9.42991 4.89C9.42991 3.29 8.13991 2 6.53991 2C4.94991 2 3.65991 3.29 3.65991 4.89C3.65991 6.45 4.88991 7.72 6.43991 7.77Z"
                                    fill="#DCBA95" />
                                <path
                                    d="M6.55012 12.8501C6.55012 13.8201 6.76012 14.7401 7.14012 15.5701C5.73012 15.7201 4.26012 15.4201 3.18012 14.7101C1.60012 13.6601 1.60012 11.9501 3.18012 10.9001C4.25012 10.1801 5.76012 9.8901 7.18012 10.0501C6.77012 10.8901 6.55012 11.8401 6.55012 12.8501Z"
                                    fill="#DCBA95" />
                                <path
                                    d="M12.12 15.87C12.04 15.86 11.95 15.86 11.86 15.87C10.02 15.81 8.55005 14.3 8.55005 12.44C8.56005 10.54 10.09 9 12 9C13.9 9 15.44 10.54 15.44 12.44C15.43 14.3 13.97 15.81 12.12 15.87Z"
                                    fill="#DCBA95" />
                                <path
                                    d="M8.87005 17.9401C7.36005 18.9501 7.36005 20.6101 8.87005 21.6101C10.59 22.7601 13.41 22.7601 15.1301 21.6101C16.64 20.6001 16.64 18.9401 15.1301 17.9401C13.42 16.7901 10.6 16.7901 8.87005 17.9401Z"
                                    fill="#DCBA95" />
                            </svg>
                        </div>
                        <h6> {{ $t("vendors") }} </h6>
                    </div>
                    <svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="6" height="12" viewBox="0 0 6 12"
                        fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M5.46849 0.414376C5.79194 0.673133 5.84438 1.1451 5.58562 1.46855L1.96044 6.00003L5.58562 10.5315C5.84438 10.855 5.79194 11.3269 5.46849 11.5857C5.14505 11.8444 4.67308 11.792 4.41432 11.4685L0.414321 6.46855C0.195189 6.19464 0.195189 5.80542 0.414321 5.53151L4.41432 0.531506C4.67308 0.20806 5.14505 0.155619 5.46849 0.414376Z"
                            fill="#2D3A4A" />
                    </svg>
                </nuxt-link>
                <nuxt-link :to="localePath('/cart')" class="link">
                    <div class="d-flex align-items-center gap-3">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M3.82443 6.08621L3.64203 4.57464C3.57632 3.93384 3.03543 3.44656 2.38992 3.44656H1.71551C1.29822 3.44656 0.959961 3.10905 0.959961 2.69276C0.959961 2.27647 1.29822 1.93896 1.71551 1.93896H2.38992C3.81047 1.93896 5.0007 3.01125 5.14528 4.42121L5.28294 5.76368H20.6162C20.9332 5.76368 21.1714 6.05242 21.1104 6.36279L19.7708 13.1788C19.4466 14.8288 17.9971 16.019 16.3119 16.019H8.28333C8.51488 17.0385 9.42794 17.7774 10.493 17.7774H16.8165C16.8537 17.7774 16.8907 17.7801 16.8722 17.7834C16.9276 17.7794 16.9832 17.7774 17.0391 17.7774C18.2907 17.7774 19.3053 18.7897 19.3053 20.0385C19.3053 21.2872 18.2907 22.2996 17.0391 22.2996C15.7875 22.2996 14.7729 21.2872 14.7729 20.0385C14.7729 19.7783 14.8171 19.5242 14.9019 19.285H12.1267C12.2114 19.5242 12.2556 19.7783 12.2556 20.0385C12.2556 21.2872 11.241 22.2996 9.98944 22.2996C8.73783 22.2996 7.72324 21.2872 7.72324 20.0385C7.72324 19.4878 7.92191 18.9688 8.27103 18.5642C7.4122 17.9402 6.84565 16.9776 6.7358 15.9033L6.7242 15.7899C5.49457 15.3228 4.58707 14.1874 4.46619 12.8085L4.16169 9.33484C4.15655 9.31336 4.15277 9.29129 4.15045 9.26872L3.82443 6.08621ZM9.98944 21.0433C10.5456 21.0433 10.9965 20.5934 10.9965 20.0385C10.9965 19.4835 10.5456 19.0336 9.98944 19.0336C9.43323 19.0336 8.98234 19.4835 8.98234 20.0385C8.98234 20.5934 9.43323 21.0433 9.98944 21.0433ZM17.0391 21.0433C17.5953 21.0433 18.0462 20.5934 18.0462 20.0385C18.0462 19.4835 17.5953 19.0336 17.0391 19.0336C16.4829 19.0336 16.032 19.4835 16.032 20.0385C16.032 20.5934 16.4829 21.0433 17.0391 21.0433Z"
                                    fill="#DCBA95" />
                            </svg>
                        </div>
                        <h6>{{ $t("cart") }}</h6>
                    </div>
                    <svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="6" height="12" viewBox="0 0 6 12"
                        fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M5.46849 0.414376C5.79194 0.673133 5.84438 1.1451 5.58562 1.46855L1.96044 6.00003L5.58562 10.5315C5.84438 10.855 5.79194 11.3269 5.46849 11.5857C5.14505 11.8444 4.67308 11.792 4.41432 11.4685L0.414321 6.46855C0.195189 6.19464 0.195189 5.80542 0.414321 5.53151L4.41432 0.531506C4.67308 0.20806 5.14505 0.155619 5.46849 0.414376Z"
                            fill="#2D3A4A" />
                    </svg>
                </nuxt-link>
                <nuxt-link :to="localePath('/wishlist')" class="link">
                    <div class="d-flex align-items-center gap-3">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M12.3814 6.19501C14.1609 4.39854 17.0459 4.39854 18.8254 6.19501C20.605 7.9916 20.605 10.9045 18.8254 12.7011L12.3394 19.249C12.152 19.4382 11.8482 19.4382 11.6607 19.249L5.17478 12.7011C3.39519 10.9045 3.39519 7.9916 5.17478 6.19501C6.95426 4.39854 9.83929 4.39854 11.6188 6.19501L12.0001 6.57998L12.3814 6.19501Z"
                                    fill="#DCBA95" />
                            </svg>
                        </div>
                        <h6>{{ $t("fav") }}</h6>
                    </div>
                    <svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="6" height="12" viewBox="0 0 6 12"
                        fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M5.46849 0.414376C5.79194 0.673133 5.84438 1.1451 5.58562 1.46855L1.96044 6.00003L5.58562 10.5315C5.84438 10.855 5.79194 11.3269 5.46849 11.5857C5.14505 11.8444 4.67308 11.792 4.41432 11.4685L0.414321 6.46855C0.195189 6.19464 0.195189 5.80542 0.414321 5.53151L4.41432 0.531506C4.67308 0.20806 5.14505 0.155619 5.46849 0.414376Z"
                            fill="#2D3A4A" />
                    </svg>
                </nuxt-link>
                <div class="link">
                    <div class="d-flex align-items-center gap-3">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M7.87643 2.47813C7.18954 4.3671 6.75001 7.02637 6.75001 10C6.75001 10.3796 6.75718 10.754 6.7711 11.1224C7.79627 11.2054 8.87923 11.25 10 11.25C11.1208 11.25 12.2038 11.2054 13.2289 11.1224C13.2429 10.754 13.25 10.3796 13.25 10C13.25 7.02637 12.8105 4.3671 12.1236 2.47813C11.779 1.53057 11.3865 0.816517 10.9883 0.353377C10.8696 0.215345 10.7565 0.106123 10.6496 0.0207619C10.4349 0.00699121 10.2183 0 10 0C9.78177 0 9.56516 0.00699124 9.3504 0.020762C9.24349 0.106123 9.13042 0.215345 9.01175 0.353377C8.61357 0.816517 8.221 1.53057 7.87643 2.47813ZM13.1315 12.6346C12.1291 12.71 11.0797 12.75 10 12.75C8.92028 12.75 7.87096 12.71 6.86854 12.6346C7.04293 14.5326 7.40024 16.2123 7.87643 17.5219C8.221 18.4694 8.61357 19.1835 9.01175 19.6466C9.13042 19.7847 9.24348 19.8939 9.35039 19.9792C9.56516 19.993 9.78177 20 10 20C10.2183 20 10.4349 19.993 10.6496 19.9792C10.7565 19.8939 10.8696 19.7847 10.9883 19.6466C11.3865 19.1835 11.779 18.4694 12.1236 17.5219C12.5998 16.2123 12.9571 14.5326 13.1315 12.6346ZM5.26493 10.968C5.25504 10.6486 5.25001 10.3257 5.25001 10C5.25001 6.8985 5.70592 4.05777 6.46674 1.96552C6.67341 1.39719 6.90681 0.872262 7.16688 0.407001C3.12245 1.59958 0.144576 5.28026 0.00512695 9.67717C0.882073 10.0753 2.09222 10.433 3.56698 10.7066C4.104 10.8062 4.67155 10.8938 5.26493 10.968ZM0.0879116 11.3317C1.0045 11.6736 2.09274 11.9587 3.29339 12.1814C3.94235 12.3018 4.63038 12.4051 5.3503 12.4893C5.5238 14.6072 5.91514 16.5176 6.46674 18.0345C6.67341 18.6028 6.90681 19.1277 7.16688 19.593C3.43599 18.4929 0.612705 15.2755 0.0879116 11.3317ZM14.6497 12.4893C15.3697 12.4051 16.0577 12.3018 16.7066 12.1814C17.9073 11.9587 18.9955 11.6736 19.9121 11.3317C19.3873 15.2755 16.564 18.4929 12.8332 19.593C13.0932 19.1277 13.3266 18.6028 13.5333 18.0345C14.0849 16.5176 14.4762 14.6072 14.6497 12.4893ZM19.9949 9.67717C19.118 10.0753 17.9078 10.433 16.4331 10.7066C15.896 10.8062 15.3285 10.8938 14.7351 10.968C14.745 10.6486 14.75 10.3257 14.75 10C14.75 6.8985 14.2941 4.05777 13.5333 1.96552C13.3266 1.39719 13.0932 0.872265 12.8332 0.407004C16.8776 1.59958 19.8555 5.28026 19.9949 9.67717Z"
                                    fill="#DCBA95" />
                            </svg>
                        </div>
                        <h6> {{ $t("change lang") }} </h6>
                    </div>
                    <div class="lang">
                        <button @click="changeLang()" :class="{ 'active': activeLang == 1 }">عربي</button>
                        <button @click="changeLang()" :class="{ 'active': activeLang == 2 }">En</button>
                    </div>
                </div>
                <nuxt-link :to="localePath({path:'/settings', query: {name:'profile'}})" class="link">
                    <div class="d-flex align-items-center gap-3">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path
                                    d="M18.9401 5.41994L13.7701 2.42994C12.7801 1.85994 11.2301 1.85994 10.2401 2.42994L5.02008 5.43994C2.95008 6.83994 2.83008 7.04994 2.83008 9.27994V14.7099C2.83008 16.9399 2.95008 17.1599 5.06008 18.5799L10.2301 21.5699C10.7301 21.8599 11.3701 21.9999 12.0001 21.9999C12.6301 21.9999 13.2701 21.8599 13.7601 21.5699L18.9801 18.5599C21.0501 17.1599 21.1701 16.9499 21.1701 14.7199V9.27994C21.1701 7.04994 21.0501 6.83994 18.9401 5.41994ZM12.0001 15.2499C10.2101 15.2499 8.75008 13.7899 8.75008 11.9999C8.75008 10.2099 10.2101 8.74994 12.0001 8.74994C13.7901 8.74994 15.2501 10.2099 15.2501 11.9999C15.2501 13.7899 13.7901 15.2499 12.0001 15.2499Z"
                                    fill="#DCBA95" />
                            </svg>
                        </div>
                        <h6>{{ $t("settings") }}</h6>
                    </div>
                    <svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="6" height="12" viewBox="0 0 6 12"
                        fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M5.46849 0.414376C5.79194 0.673133 5.84438 1.1451 5.58562 1.46855L1.96044 6.00003L5.58562 10.5315C5.84438 10.855 5.79194 11.3269 5.46849 11.5857C5.14505 11.8444 4.67308 11.792 4.41432 11.4685L0.414321 6.46855C0.195189 6.19464 0.195189 5.80542 0.414321 5.53151L4.41432 0.531506C4.67308 0.20806 5.14505 0.155619 5.46849 0.414376Z"
                            fill="#2D3A4A" />
                    </svg>
                </nuxt-link>
                <nuxt-link :to="localePath('/policy')" class="link">
                    <div class="d-flex align-items-center gap-3">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path
                                    d="M15.7999 2.20999C15.3899 1.79999 14.6799 2.07999 14.6799 2.64999V6.13999C14.6799 7.59999 15.9199 8.80999 17.4299 8.80999C18.3799 8.81999 19.6999 8.81999 20.8299 8.81999C21.3999 8.81999 21.6999 8.14999 21.2999 7.74999C19.8599 6.29999 17.2799 3.68999 15.7999 2.20999Z"
                                    fill="#DCBA95" />
                                <path
                                    d="M20.5 10.19H17.61C15.24 10.19 13.31 8.26 13.31 5.89V3C13.31 2.45 12.86 2 12.31 2H8.07C4.99 2 2.5 4 2.5 7.57V16.43C2.5 20 4.99 22 8.07 22H15.93C19.01 22 21.5 20 21.5 16.43V11.19C21.5 10.64 21.05 10.19 20.5 10.19ZM11.5 17.75H7.5C7.09 17.75 6.75 17.41 6.75 17C6.75 16.59 7.09 16.25 7.5 16.25H11.5C11.91 16.25 12.25 16.59 12.25 17C12.25 17.41 11.91 17.75 11.5 17.75ZM13.5 13.75H7.5C7.09 13.75 6.75 13.41 6.75 13C6.75 12.59 7.09 12.25 7.5 12.25H13.5C13.91 12.25 14.25 12.59 14.25 13C14.25 13.41 13.91 13.75 13.5 13.75Z"
                                    fill="#DCBA95" />
                            </svg>
                        </div>
                        <h6> {{ $t("policy2") }} </h6>
                    </div>
                    <svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="6" height="12" viewBox="0 0 6 12"
                        fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M5.46849 0.414376C5.79194 0.673133 5.84438 1.1451 5.58562 1.46855L1.96044 6.00003L5.58562 10.5315C5.84438 10.855 5.79194 11.3269 5.46849 11.5857C5.14505 11.8444 4.67308 11.792 4.41432 11.4685L0.414321 6.46855C0.195189 6.19464 0.195189 5.80542 0.414321 5.53151L4.41432 0.531506C4.67308 0.20806 5.14505 0.155619 5.46849 0.414376Z"
                            fill="#2D3A4A" />
                    </svg>
                </nuxt-link>
                <nuxt-link :to="localePath('/terms')" class="link">
                    <div class="d-flex align-items-center gap-3">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path
                                    d="M15.7999 2.20999C15.3899 1.79999 14.6799 2.07999 14.6799 2.64999V6.13999C14.6799 7.59999 15.9199 8.80999 17.4299 8.80999C18.3799 8.81999 19.6999 8.81999 20.8299 8.81999C21.3999 8.81999 21.6999 8.14999 21.2999 7.74999C19.8599 6.29999 17.2799 3.68999 15.7999 2.20999Z"
                                    fill="#DCBA95" />
                                <path
                                    d="M20.5 10.19H17.61C15.24 10.19 13.31 8.26 13.31 5.89V3C13.31 2.45 12.86 2 12.31 2H8.07C4.99 2 2.5 4 2.5 7.57V16.43C2.5 20 4.99 22 8.07 22H15.93C19.01 22 21.5 20 21.5 16.43V11.19C21.5 10.64 21.05 10.19 20.5 10.19ZM11.5 17.75H7.5C7.09 17.75 6.75 17.41 6.75 17C6.75 16.59 7.09 16.25 7.5 16.25H11.5C11.91 16.25 12.25 16.59 12.25 17C12.25 17.41 11.91 17.75 11.5 17.75ZM13.5 13.75H7.5C7.09 13.75 6.75 13.41 6.75 13C6.75 12.59 7.09 12.25 7.5 12.25H13.5C13.91 12.25 14.25 12.59 14.25 13C14.25 13.41 13.91 13.75 13.5 13.75Z"
                                    fill="#DCBA95" />
                            </svg>
                        </div>
                        <h6> {{ $t("policy3") }} </h6>
                    </div>
                    <svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="6" height="12" viewBox="0 0 6 12"
                        fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M5.46849 0.414376C5.79194 0.673133 5.84438 1.1451 5.58562 1.46855L1.96044 6.00003L5.58562 10.5315C5.84438 10.855 5.79194 11.3269 5.46849 11.5857C5.14505 11.8444 4.67308 11.792 4.41432 11.4685L0.414321 6.46855C0.195189 6.19464 0.195189 5.80542 0.414321 5.53151L4.41432 0.531506C4.67308 0.20806 5.14505 0.155619 5.46849 0.414376Z"
                            fill="#2D3A4A" />
                    </svg>
                </nuxt-link>
                <nuxt-link :to="localePath('/about')" class="link">
                    <div class="d-flex align-items-center gap-3">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path
                                    d="M15.7999 2.20999C15.3899 1.79999 14.6799 2.07999 14.6799 2.64999V6.13999C14.6799 7.59999 15.9199 8.80999 17.4299 8.80999C18.3799 8.81999 19.6999 8.81999 20.8299 8.81999C21.3999 8.81999 21.6999 8.14999 21.2999 7.74999C19.8599 6.29999 17.2799 3.68999 15.7999 2.20999Z"
                                    fill="#DCBA95" />
                                <path
                                    d="M20.5 10.19H17.61C15.24 10.19 13.31 8.26 13.31 5.89V3C13.31 2.45 12.86 2 12.31 2H8.07C4.99 2 2.5 4 2.5 7.57V16.43C2.5 20 4.99 22 8.07 22H15.93C19.01 22 21.5 20 21.5 16.43V11.19C21.5 10.64 21.05 10.19 20.5 10.19ZM11.5 17.75H7.5C7.09 17.75 6.75 17.41 6.75 17C6.75 16.59 7.09 16.25 7.5 16.25H11.5C11.91 16.25 12.25 16.59 12.25 17C12.25 17.41 11.91 17.75 11.5 17.75ZM13.5 13.75H7.5C7.09 13.75 6.75 13.41 6.75 13C6.75 12.59 7.09 12.25 7.5 12.25H13.5C13.91 12.25 14.25 12.59 14.25 13C14.25 13.41 13.91 13.75 13.5 13.75Z"
                                    fill="#DCBA95" />
                            </svg>
                        </div>
                        <h6> {{ $t("about") }} </h6>
                    </div>
                    <svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="6" height="12" viewBox="0 0 6 12"
                        fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M5.46849 0.414376C5.79194 0.673133 5.84438 1.1451 5.58562 1.46855L1.96044 6.00003L5.58562 10.5315C5.84438 10.855 5.79194 11.3269 5.46849 11.5857C5.14505 11.8444 4.67308 11.792 4.41432 11.4685L0.414321 6.46855C0.195189 6.19464 0.195189 5.80542 0.414321 5.53151L4.41432 0.531506C4.67308 0.20806 5.14505 0.155619 5.46849 0.414376Z"
                            fill="#2D3A4A" />
                    </svg>
                </nuxt-link>
                <div @click="dialog = true" class="link">
                    <div class="d-flex align-items-center gap-3">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 512 512" fill="#DCBA95"><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>
                        </div>
                        <h6> {{ $t("mail") }} </h6>
                    </div>
                    <svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="6" height="12" viewBox="0 0 6 12"
                        fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M5.46849 0.414376C5.79194 0.673133 5.84438 1.1451 5.58562 1.46855L1.96044 6.00003L5.58562 10.5315C5.84438 10.855 5.79194 11.3269 5.46849 11.5857C5.14505 11.8444 4.67308 11.792 4.41432 11.4685L0.414321 6.46855C0.195189 6.19464 0.195189 5.80542 0.414321 5.53151L4.41432 0.531506C4.67308 0.20806 5.14505 0.155619 5.46849 0.414376Z"
                            fill="#2D3A4A" />
                    </svg>
                </div>
            </div>

            <v-dialog v-model="dialog">

<div class="card-popup-container">
  <div class="main">

    <div>
      <h3>{{ $t("subNow") }}</h3>
      <p>{{ $t("subNowText") }}</p>
    </div>
    <div class="main-input">
          <label for=""> {{ $t("email") }} <span>*</span> </label>
          <input type="email" v-model="email" @keypress.enter="subscripe()" placeholder="Mostafademo@icloud.com" />
          <span class="error-msg2" v-if="error">{{ error.email[0] }}</span>
        </div>
    <div class="btns" >
        <button @click="subscripe()" class="fill">{{ $t("subb") }}</button>
    </div>

    <div @click="dialog = false" class="close">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path
          d="M18.3007 5.70971C18.1139 5.52246 17.8602 5.41723 17.5957 5.41723C17.3312 5.41723 17.0775 5.52246 16.8907 5.70971L12.0007 10.5897L7.1107 5.69971C6.92387 5.51246 6.67022 5.40723 6.4057 5.40723C6.14119 5.40723 5.88753 5.51246 5.7007 5.69971C5.3107 6.08971 5.3107 6.71971 5.7007 7.10971L10.5907 11.9997L5.7007 16.8897C5.3107 17.2797 5.3107 17.9097 5.7007 18.2997C6.0907 18.6897 6.7207 18.6897 7.1107 18.2997L12.0007 13.4097L16.8907 18.2997C17.2807 18.6897 17.9107 18.6897 18.3007 18.2997C18.6907 17.9097 18.6907 17.2797 18.3007 16.8897L13.4107 11.9997L18.3007 7.10971C18.6807 6.72971 18.6807 6.08971 18.3007 5.70971Z"
          fill="#2D3A4A" />
      </svg>
    </div>

  </div>
</div>

</v-dialog>

            <div class="btns">
             <button v-if="!store.state.authenticated"  class="log">
              <nuxt-link class="w-100" :to="localePath('/auth')">
                {{ $t("login") }}
              </nuxt-link>
             </button>
             <div v-else @click="logOut()" class="out"> {{ $t("log out") }} </div>
            </div>
        </div>
    </div>
</template>

<script setup>
import axios from 'axios';
import { createToast } from "mosha-vue-toastify";
import "mosha-vue-toastify/dist/style.css";
import Cookies from "js-cookie";
import { useStore } from "~/store";
const store = useStore;
let activeLang = ref(1);
const router = useRouter();
const localePath = useLocalePath();
const { locale, setLocale } = useI18n();
let dialog = ref(false);
if (locale.value == 'ar') {
    activeLang.value = 1;

} else {
    activeLang.value = 2;

}
let user = ref(store.state.user);
let auth = ref(store.state.authenticated);

const changeLang = async () => {
    locale.value = locale.value === "en" ? "ar" : "en";
    if (locale.value == "ar") {
        setLocale("ar");
        store.state.lang = "ar";
        useHead({
            htmlAttrs: {
                lang: "ar",
                dir: "rtl",
            },
        });
    } else {
        activeLang.value = 2;
        useHead({
            htmlAttrs: {
                lang: "en",
                dir: "ltr",
            },
        });
        setLocale("en");
        store.state.lang = "en";
    }
    const query = useRoute().query;
    await navigateTo(
        localePath({ path: useRoute().path, query: query }, undefined, {
            preserveQuery: true,
        })
    );
};

const goSettings = (name) => {
  const queryParams = {
    name: name,
  };
  const url = "/settings";

  const updatedRoute = {
    path: url,
    query: {
      ...queryParams,
    },
  };

  const fullLocalePath = localePath(updatedRoute);
  router.push(fullLocalePath);
};


let email = ref('');
let error = ref(null);
let emailText = ref('تم الاشتراك بنجاح');
if(locale.value == 'ar'){
  emailText.value = 'تم الاشتراك بنجاح';
} else{
  emailText.value = 'You have successfully subscribed'
}


const subscripe = async()=>{
  if(email.value != ''){
    try{
      let result = await axios.post(
      `${getUrl()}/news-letter`,
      { email: email.value },
      {
        headers: {
          "Content-Language": `${locale.value}`,
        },
      }
    );

      if(result.status >= 200){
        error.value = '';
        email.value = '';
        createToast({
          title: emailText.value
        },
        {
        type: 'success',
        transition: 'bounce',
        showIcon: 'true',
        timeout: 3000,
        toastBackgroundColor: '#dcba95',
        });
      }

    }catch(errors){
      if (errors.response) {
                error.value = errors.response.data.errors;
            }

    }

  }
}

const logOut = () => {
    if (process.client) {
        store.state.user = {};
        store.state.authenticated = false;

        Cookies.remove("user");
        Cookies.remove("token");
        Cookies.remove("auth");

        store.state.activeMobile = 1;
        const localee = localePath('/')
        router.push(localee);
    }
};

const updateLang = () => {

}
onBeforeMount(() => {

});
</script>

<style lang="scss" scoped></style>